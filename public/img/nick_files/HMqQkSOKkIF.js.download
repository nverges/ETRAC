if (self.CavalryLogger) { CavalryLogger.start_js(["ZEDT7"]); }

__d("SearchEntityModuleServerConstants",[],(function a(b,c,d,e,f,g){f.exports={TYPE_TO_BROWSE_TYPE:{user:"browse_type_user",page:"browse_type_page",group:"browse_type_group",application:"browse_type_application",place:"browse_type_place",event:"browse_type_event"},TYPE_TO_SERP_PATH:{user:"\/search\/people\/",page:"\/search\/pages\/",group:"\/search\/groups\/",application:"\/search\/apps\/",place:"\/search\/places\/",event:"\/search\/events\/"},RESULT_TYPE_TO_MODULE_ROLE:{user:"ENTITY_USER",page:"ENTITY_PAGES",group:"ENTITY_GROUPS",application:"ENTITY_APPS",place:"ENTITY_PLACES",event:"ENTITY_EVENTS"},TYPE_TO_DISPLAY_STYLE:{user:"user_row",page:"page_row",group:"group_row",application:"app_row",place:"place_row",event:"event_row"},WWW_GRAPH_SEARCH_RESULTS_TRACKABLE_CODE:"21.",SEARCH_RESULTS_TRACKABLE:"12.",SEE_MORE_LOGGING:{MODULE_FOOTER_ITEM_TYPE:"module_footer",MODULE_HEADER_ITEM_TYPE:"module_header"},MODULE_STYLE:{SMALL:"small",MEDIUM:"medium",LARGE:"large",XLARGE:"xlarge"},BROWSE_RESULTS_PAGE_REF:"br_rs",RESULT_TYPE_TO_BROWSE_EDGE:{user:"keywords_users",page:"keywords_pages",group:"keywords_groups",application:"keywords_apps",place:"keywords_places",event:"keywords_events"},MTOUCH_BEM_CLICK_TYPE:"result",BEM_UNIT_ID_CLICK_TYPE:"graph_search_results_item_tapped",SERP_SESSION_ID:"ssid",BROWSE_EDGE_KEYWORDS_SEARCH:"keywords_search",MTOUCH_SEARCH_REFID:46,BROWSE_NAV_SOURCE_CONTENT_FILTERS:"content_filter"};}),null);
__d("XBrowseLoggerController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/browse\/logger\/",{data:{type:"HackType",required:true}});}),null);
__d('BrowseLogger',['AsyncRequest','Banzai','Run','XBrowseLoggerController','mapObject'],(function a(b,c,d,e,f,g){var h='browse',i='browse_aggr',j=null,k={},l={},m=function v(w){if(w==null)return 'undefined';var x=w.tagName.toLowerCase(),y=w.id,z=w.className;if(y)x+='#'+y;if(z)x+='.'+z;return x;};function n(){j=null;k={};l={};}function o(v){return Object.assign(v,{clientSessionID:j});}function p(v){c('Banzai').post(h,o(v));}function q(v){var w=c('XBrowseLoggerController').getURIBuilder().setHackType('data',o(v)).getURI();new (c('AsyncRequest'))().setURI(w).send();}function r(){if(j===null)return;l.aggregated=k;c('Banzai').post(i,o(l));n();}function s(v){k[v]=(k[v]||0)+1;}function t(v){Object.assign(l,v);}c('Run').onUnload(r);var u={newSession:function v(){r();j=Math.random().toString();if(!l.start_time)l.start_time=Math.round(Date.now()/1000);},logResultClick:function v(w,x,y,z,aa){var ba=arguments.length<=5||arguments[5]===undefined?null:arguments[5],ca={action:'result_click',click_type:w.ct||'result',section:w.section||'unknown',id:w.id||-1,path:w.path||'unknown',rank:w.rank||0,referrer:w.referrer||'unknown',result_type:w.result_type||'unknown',session_id:w.session_id||0,query_time:w.query_time||null,abtest_version:w.abtest_version||'NONE',abtest_params:w.abtest_params||null,typeahead_sid:w.typeahead_sid||'',source_module_role:w.source_module_role||'',result_title:w.result_title||'unknown',result_href:w.result_href||'unknown',result_semantic:w.result_semantic||'unknown',type:w.experience_type||'unknown',click_action:y||null,sub_id:w.sub_id||null,owner_id:w.owner_id||null,browse_location:w.browse_location||'unknown',query_data:w.query_data||'unknown',is_headline:w.is_headline||false,qid:x.qid||0,mf_story_key:x.mf_story_key||0,module:w.module||'NONE',view:w.view||null,clicked_href:aa||null,bt_key:ba};if(x.tn)ca.tn=x.tn;if(w.cst)ca.click_subtype=w.cst;s('result_click_'+ca.click_type);t({path:ca.path,referrer:ca.referrer,result_type:ca.result_type,session_id:ca.session_id,abtest_version:ca.abtest_version,abtest_params:ca.abtest_params,typeahead_sid:ca.typeahead_sid});if(ba){q(ca);}else p(ca);if(!w.id&&w.browse_location!=='browse_location:mf_trending'&&!ba)p({action:'logging_error',click_action:y,click_type:ca.click_type,attributes:JSON.stringify(w),element:c('mapObject')({srcElement:z.srcElement,target:z.target,toElement:z.toElement},m),event:{button:z.button,clientX:z.clientX,clientY:z.clientY,ctrlKey:z.ctrlKey,layerX:z.layerX,layerY:z.layerY,offsetX:z.offsetX,offsetY:z.offsetY,pageX:z.pageX,pageY:z.pageY,screenX:z.screenX,screenY:z.screenY,shiftKey:z.shiftKey,type:z.type,x:z.x,y:z.y}});},logControlsClick:function v(w,x){var y={action:'controls_click',click_type:x,path:w.path||'unknown',referrer:w.referrer||'unknown',session_id:w.session_id||0,query_time:w.query_time,filter_name:w.name||'unknown',typeahead_sid:w.typeahead_sid||'',result_type:w.result_type||'unknown',type:w.experience_type||'unknown'};if(w.cst)y.click_subtype=w.cst;s('controls_click_'+x);t({path:y.path,referrer:y.referrer,session_id:y.session_id,typeahead_sid:y.typeahead_sid});p(y);},logResultHover:function v(w,x){var y=arguments.length<=2||arguments[2]===undefined?null:arguments[2],z={action:'result_hover',id:w.id||0,path:w.path||'unknown',rank:w.rank||null,result_type:w.result_type||'unknown',session_id:w.session_id||0,query_time:w.query_time||null,time_elapsed:x||null,typeahead_sid:w.typeahead_sid||0,type:w.experience_type||'unknown',module:w.module||'NONE',view:w.view||null,bt_key:y};s('result_hover');t({path:z.path,session_id:z.session_id,typeahead_sid:z.typeahead_sid});if(y){q(z);}else p(z);},logScroll:function v(w,x,y,z){var aa={action:'scroll',encoded_query:w,fragments:x,position:y,session_id:z||0};p(aa);},logNUXStep:function v(w){var x={action:'nux_step',step:w};p(x);},logDisambiguationImpression:function v(w,x,y,z,aa){var ba={action:'disambiguation_imp',ids:z,name:w,path:y,type:x,typeahead_sid:aa};p(ba);},logDisambiguationClick:function v(w,x,y,z,aa,ba){var ca={action:'disambiguation_clk',id:aa,index:z,name:w,path:y,type:x,typeahead_sid:ba};p(ca);},logDYMLinkClick:function v(w,x,y,z){var aa={action:'dym_click',path:w.path||'unknown',referrer:w.referrer||'unknown',session_id:w.session_id||0,query_time:w.query_time,abtest_version:w.abtest_version||'NONE',abtest_params:w.abtest_params,typeahead_sid:w.typeahead_sid||'',type:w.experience_type||'unknown',click_action:y,sub_id:w.sub_id,owner_id:w.owner_id,browse_location:w.browse_location||'unknown',query_data:w.query_data||'unknown',module:w.module||'NONE',view:w.view,dym_confidence:w.dym_confidence||'NONE',dym_query:w.dym_query||'',dym_correction:w.dym_correction||'',dym_clicked:w.dym_clicked||''};p(aa);}};f.exports=u;}),null);
__d('BrowseClickLogger',['BrowseClientEventLogger','BrowseLogger','DOMQuery','Event','Parent','collectDataAttributes'],(function a(b,c,d,e,f,g){'use strict';function h(j,k){var l=j.target,m=c('collectDataAttributes')(l,['bt','ft','gt'],['data-bt-key']);if(m.bt&&m.bt.path)m.bt.path+=document.location.search;m.gt.tn=m.ft.tn;m.gt.click_type=m.bt.ct||'result';var n=c('Parent').byAttribute(l,'href'),o=n!=null?n.href:null;m.gt.clicked_href=o;c('BrowseClientEventLogger').logClick(m);if(c('DOMQuery').scry(l,'^.recourse-link').length>0){if(k==='left_click')c('BrowseLogger').logDYMLinkClick(m.bt,m.ft,k,j);}else c('BrowseLogger').logResultClick(m.bt,m.ft,k,j,o,m.normal['data-bt-key']);}var i={init:function j(k){c('Event').listen(k,'mousedown',function(l){var m=l.button===2||l.which===3?'right_click':'left_click';if(l.shiftKey)m+='_shift';if(l.altKey)m+='_alt';if(l.metaKey||l.ctrlKey)m+='_ctrl';h(l,m);}.bind(this));},logClick:h};f.exports=i;}),null);
__d('BrowseClientSizeLogger',['BanzaiLogger','DataAttributeUtils','getElementPosition'],(function a(b,c,d,e,f,g){var h={log:function i(j){var k=c('DataAttributeUtils').getDataAttribute(j,'data-xt'),l=JSON.parse(k.substring(k.indexOf('{'))),m=c('getElementPosition')(j);l.client_height=m.height;l.client_width=m.width;l.raw_id=+l.raw_id;c('BanzaiLogger').log('SearchResultsClientSizeLoggerConfig',l);}};f.exports=h;}),null);
__d('BrowseEmptyResult',['csx','DOMQuery','UIPagelet','$'],(function a(b,c,d,e,f,g,h){var i={init:function j(k,l,m){var n=[],o=false;if(k===null)return;for(var p=0;p<k.length;p++){var q=c('$')(k[p]);if(k[p]==='initial_browse_result'){var r=c('DOMQuery').scry(q,"._58b7");if(r.length>0)o=true;}if(q!==null&&q.textContent){var s=c('DOMQuery').scry(q,"._jyu"),t=s!=null;if(!t)n.push(k[p]);}}if(n.length===0&&!o){k&&k.length===0;c('UIPagelet').loadFromEndpoint('BrowsePageletNoContentError',l,m,{usePipe:false});}}};f.exports=i;}),null);
__d('BrowseMouseSpeedTracker',['Event','removeFromArray'],(function a(b,c,d,e,f,g){var h=50,i=null,j=null,k=[],l={x:0,y:0},m=0,n=[{x:0,y:0},{x:0,y:0}];function o(){n[m].x=l.x;n[m].y=l.y;m=(m+1)%2;}function p(){var v=n[0].x-n[1].x,w=n[0].y-n[1].y;return Math.sqrt(v*v+w*w)*(1000/h);}function q(){if(i)return;j=c('Event').listen(document.body,'mousemove',function(event){l.x=event.pageX||event.screenX;l.y=event.pageY||event.screenY;});i=window.setInterval(function(){o();s(p());},h);}function r(){if(i){window.clearInterval(i);j.remove();i=null;}}function s(v){k.forEach(function(w){if(v<w.velocity){w.callback(v);t(w);}});}function t(v){c('removeFromArray')(k,v);k.length||r();}var u={addTrigger:function v(w,x){var y={velocity:w,callback:x};q();k.push(y);return {remove:t.bind(null,y)};}};f.exports=u;}),null);
__d('BrowseRunOnLeave',['Run'],(function a(b,c,d,e,f,g){var h={register:function i(j){c('Run').onLeave(j);this.handlers=(this.handlers||[]).concat(j);},cleanup:function i(){this.handlers.forEach(function(j){return j.call(null,{});});this.handlers=[];}};f.exports=h;}),null);
__d('BrowseMouse',['cx','BrowseMouseSpeedTracker','BrowseRunOnLeave','CSS','DataStore','DOM','Event','Parent','Toggler','removeFromArray'],(function a(b,c,d,e,f,g,h){var i=500,j="_3u0",k="_3u1",l=null,m=[];function n(v){return c('Parent').byClass(v,k);}function o(v){return 'browse-'+(v?'over':'out');}function p(v){return c('CSS').addClass(v,k);}function q(v,w,x,y){var z=n(w);if(!y)m.push({element:w,callback:x});if(z){var aa=o(v),ba=c('DataStore').get(z,aa,[]);c('DataStore').set(z,aa,ba.concat(x));return z;}}function r(v,w){if(v){c('CSS').conditionClass(v,j,w);var x=c('DataStore').get(v,o(w));x&&x.forEach(function(y){y();});}}function s(v){var w=v.element;['browse-over','browse-out'].forEach(function(x){var y=c('DataStore').get(w,x);if(y){c('removeFromArray')(y,v.callback);y.length||c('DataStore').remove(w,x);}});}function t(){var v=null;if(l)return;l=c('Event').listen(document.body,'mouseover',function(w){var x=n(w.getTarget());if(!x||x==v)return;var y=null,z=null,aa=false;v=x;var ba=c('BrowseMouseSpeedTracker').addTrigger(i,function(){r(x,true);aa=true;}),ca=function fa(){ba.remove();ea.remove();y&&y.remove();z&&z.unsubscribe();},da=function fa(){ca();aa&&r(x,false);v=null;},ea=c('Event').listen(x,'mouseleave',function(){var fa=c('Toggler').getActive();if(fa&&c('DOM').contains(x,fa)){z=c('Toggler').subscribe('hide',da);y=c('Event').listen(x,'mouseover',ca);}else da();});});c('BrowseRunOnLeave').register(function(){while(m.length)s(m.pop());});}var u={init:t,makeTarget:p,onMouseOver:q.bind(null,true),onMouseOut:q.bind(null,false),removeListeners:s};f.exports=u;}),null);
__d('BrowsePerfLogger',['Arbiter','Banzai','DOM','PageEvents','collectDataAttributes','isEmpty'],(function a(b,c,d,e,f,g){var h='browse_perf',i='#browse:independent:modules:pagelet',j='#search_marker+empty:independent_module',k='pagelet_loader_browse:independent:modules:pagelet',l=false,m=false,n={init:function o(p,q,r){if(!b.CavalryLogger||b.CavalryLogger.getInstance().lid!==r||!p)return;l=null;m=null;var s={is_quickling:q,pagelet_id:p};if(!q){Object.assign(s,{arbiter:c('Arbiter'),event:c('PageEvents').BIGPIPE_ONLOAD});this.setupOnloadHook(s);return;}c('Arbiter').subscribe('BigPipe/init',function(event,t){if(!t.arbiter)return;Object.assign(s,{arbiter:t.arbiter,event:c('PageEvents').AJAXPIPE_ONLOAD});setTimeout(function(){this.setupOnloadHook(s);}.bind(this),0);}.bind(this));},setTimeout:function o(){m=true;},setupOnloadHook:function o(p){return p.arbiter.subscribeOnce(p.event,function(q){if(l)return;l=true;var r=b.CavalryLogger.getInstance(),s=r.events[p.pagelet_id]||[],t=this.getNavStart(p.is_quickling),u=document.getElementById('initial_browse_result'),v=u===null?{}:c('collectDataAttributes')(u.children[0],['bt']).bt,w=r.values.t_tti-window._cstart,x=t?r.values.t_tti-t:0,y=!r.values.t_hooks||!r.values.t_onload||!r.values.t_tti||!t||!window._cstart,z=null;if(u===null){z='exception';}else if(m){z='timeout';}else if(c('isEmpty')(v))z='no_results';var aa=c('DOM').scry(document,i).length&&c('DOM').scry(document,j).length,ba=null;if(!aa&&c('DOM').scry(document,i).length&&r.events[k])ba=r.events[k].display;var ca=r.events.pagelet_loader_initial_browse_result?r.events.pagelet_loader_initial_browse_result.display:null,da=ba?Math.min(ba,ca):ca,ea={abnormal:y?1:null,arrive:s.arrive||0,browse_sid:v.session_id,css_done:s.css||0,display:s.display||0,experience_type:v.experience_type,failure:z,is_detailed:r.is_detailed_profiler?1:0,js_done:s.jsdone||0,js_start:s.jsstart||0,navigation_start:t,onload:r.values.t_onload||0,pagelet_id:p.pagelet_id,path:v.path,quickling:p.is_quickling?1:0,raw_tti:r.values.t_tti,result_type:v.result_type,tti:Math.floor(w),tti_full:Math.floor(x),typeahead_sid:v.typeahead_sid,window_cstart:window._cstart,empty_independent_module:aa?1:0,independent_module_tti:Math.floor(ba),browse_result_tti:Math.floor(ca),top_module_tti:Math.floor(da)},fa=window.performance||window.msPerformance;if(!p.is_quickling&&fa.timing){fa=fa.timing;Object.assign(ea,{wt_connect_end:fa.connectEnd,wt_connect_start:fa.connectStart,wt_domain_lookup_end:fa.domainLookupEnd,wt_domain_lookup_start:fa.domainLookupStart,wt_load_event_start:fa.loadEventStart,wt_navigation_start:fa.navigationStart,wt_request_start:fa.requestStart,wt_response_end:fa.responseEnd,wt_response_start:fa.responseStart});}c('Banzai').post(h,ea,{delay:0,retry:true});}.bind(this));},getNavStart:function o(p){if(p)return window.ExitTime;var q=window.performance||window.msPerformance;if(!q||!q.timing)return;return q.timing.navigationStart;}};f.exports=n;}),null);
__d('BrowseScrollingPager',['Arbiter','CSS','DOM','OnVisible','SubscriptionsHandler','UIPagelet'],(function a(b,c,d,e,f,g){var h=800,i=[],j,k=0;function l(m,n,o){'use strict';this.loadingNode=m;this.globalData=n;this.visibleBuffer=o?o:h;this.subscriptionsHandler=new (c('SubscriptionsHandler'))();j&&this.pageletComplete(j);j=null;}l.prototype.pageletComplete=function(m){'use strict';this.pageData=m;c('Arbiter').inform('BrowseScrollingPageletLoaded');setTimeout(this.$BrowseScrollingPager1.bind(this),1000);};l.prototype.destroy=function(){'use strict';if(this.pageletLoadHandler)this.pageletLoadHandler.cancel();this.loadingNode=null;this.subscriptionsHandler.release();};l.prototype.$BrowseScrollingPager1=function(){'use strict';if(!this.loadingNode){return;}else if(this.pageData){c('CSS').show(this.loadingNode);this.subscriptionsHandler.addSubscriptions(new (c('OnVisible'))(this.loadingNode,this.$BrowseScrollingPager2.bind(this),false,this.visibleBuffer));}else c('CSS').hide(this.loadingNode);};l.prototype.$BrowseScrollingPager3=function(){'use strict';return 'fbBrowseScrollingPagerContainer'+k++;};l.prototype.$BrowseScrollingPager2=function(){'use strict';if(this.$BrowseScrollingPager4)return;c('CSS').show(this.loadingNode.firstChild);this.contentContainer=c('DOM').create('div',{id:this.$BrowseScrollingPager3()});c('DOM').insertBefore(this.loadingNode,this.contentContainer);this.pageletLoadHandler=c('UIPagelet').loadFromEndpoint('BrowseScrollingSetPagelet',this.contentContainer.id,babelHelpers['extends']({},this.globalData,this.pageData),{constHeight:true,sid:this.globalData.typeahead_sid||0,displayCallback:this.$BrowseScrollingPager5.bind(this)});};l.prototype.$BrowseScrollingPager5=function(m){'use strict';try{m();}catch(n){this.$BrowseScrollingPager4=true;}finally{this.loadingNode&&c('CSS').hide(this.loadingNode.firstChild);}};l.init=function(m,n,o){var p=new l(m,n,o);i.push(p);};l.pageletComplete=function(m){var n=i[i.length-1];if(n){n.pageletComplete.call(n,m);}else j=m;};l.destroyAllPagers=function(){i.forEach(function(m){m.destroy();});i=[];};c('Arbiter').subscribe('BrowseScrollingPager/destroyIfNotLast',function(){if(i.length>1){var m=i.pop();m.destroy();}});f.exports=l;}),null);
__d('BrowseTopFiltersFullWidth',['cx','Arbiter','CSS','NavigationMessage','SubscriptionsHandler'],(function a(b,c,d,e,f,g,h){var i,j=/(facebook\.com\/(search|hashtag|topic)\/)/,k={init:function l(){c('CSS').addClass(document.body,"_4dik");i=new (c('SubscriptionsHandler'))();i.addSubscriptions(c('Arbiter').subscribe(c('NavigationMessage').NAVIGATION_FIRST_RESPONSE,this.cleanup));c('Arbiter').inform('browse_top_filters_full_width_displayed');},cleanup:function l(){i&&i.release();if(!window.location.href.match(j))c('CSS').removeClass(document.body,"_4dik");}};f.exports=k;}),null);
__d('BrowseTopFiltersNone',['cx','CSS'],(function a(b,c,d,e,f,g,h){var i={init:function j(){c('CSS').removeClass(document.body,"_4dik");}};f.exports=i;}),null);
__d('BrowseViewportTracking',['csx','Arbiter','BrowseClientEventLogger','DOM','StreamViewportTracking','$','ge','viewportTrackingBuilder'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;function k(n){var o=void 0,p=void 0,q=void 0;function r(){if(!o)o=c('ge')('browse:independent:modules:pagelet');return o;}function s(){if(!p)p=c('$')('initial_browse_result');return p;}function t(){if(!q)q=c('ge')('bootstrap_entity_module');return q;}var u=c('StreamViewportTracking').getBehavior(n,c('$')('initial_browse_result'),null);return {getDataFromConfig:function v(w,x){x.isTimetrackingEnabled=w.is_timetracking_enabled;x.vpvdDebug=w.vpvd_debug;x.trackingHooks=w.tracking_hooks;},getAllStories:function v(){var w=r(),x=[];if(w!=null)x=c('DOM').scry(r(),"._401d");var y=c('DOM').scry(s(),"._401d"),z=t(),aa=[];if(z)aa=c('DOM').scry(z,"._401d");var ba=aa.concat(x).concat(y);return ba;},getStream:u.getStream,getStoryID:function v(w){var x=w.getAttribute('data-gt');if(x==null)return null;var y=JSON.parse(x);if(y&&y.xt)return String(JSON.parse(y.xt.substring(3)).raw_id);return null;},getDataToLog:u.getDataToLog};}i=babelHelpers.inherits(l,c('StreamViewportTracking'));j=i&&i.prototype;function l(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.updateOnPageletLoad=function(){this.invalidateAllStoriesCache();this.updateTimeTrackingData(false,'pagelet_load');}.bind(this),o;}l.prototype.init=function(n){j.init.call(this,n);this.subscriptions.addSubscriptions(c('Arbiter').subscribe('BrowseScrollingPageletLoaded',this.updateOnPageletLoad));};l.prototype.getTimetrackingDataToLog=function(n){var o=j.getTimetrackingDataToLog.call(this,n),p=n.story;if(p==null)return o;o.log_type='vpvd';var q=p.getAttribute('data-gt');if(q==null)return o;var r=JSON.parse(q);if(!r)return o;o.xt=r.xt;return o;};l.prototype.sendDataToLog=function(n,o,p,q){if(!o.xt)return;if(o.log_type='vpvd'){o.event='vpvd';c('BrowseClientEventLogger').maybeLogVisiblityEvent(o);}};l.prototype.cleanup=function(){m.clearSingleton();j.cleanup.call(this);};var m=c('viewportTrackingBuilder')(function(n){var o=new l(k(n));o.init(n);return o;});m.init=m.singleton.bind(m);f.exports=m;}),null);
__d('BrowseWindowTransitions',['Arbiter','Banzai','BrowseClientEventLogger','Event','NavigationMessage','Run','SubscriptionsHandler'],(function a(b,c,d,e,f,g){var h={init:function i(j,k){this.subscriptions=new (c('SubscriptionsHandler'))();this.currentSessionID=j;this.currentVertical=k;this.logData('window_load');c('Run').onLeave(function(){this.logData('window_transition_to_fb_page');this.cleanup();}.bind(this));if(!this.unLoadAttached){this.unLoadAttached=true;c('Run').onUnload(function(){this.logData('window_unloaded');}.bind(this));}this.subscriptions.addSubscriptions(c('Event').listen(window,'focus',function(){this.logData('window_focus');}.bind(this)),c('Event').listen(window,'blur',function(){this.logData('window_blur');}.bind(this)),c('Arbiter').subscribe('pre_page_transition',function(event,l){this.logData('window_pre_page_transition');}.bind(this)),c('Arbiter').subscribe(c('NavigationMessage').NAVIGATION_BEGIN,function(event,l){this.logData('window_transition_to_LHC');this.cleanup();}.bind(this)),c('Arbiter').subscribe('BlueBar/homeClick',function(){this.logData('window_transition_to_home_click');this.cleanup();}.bind(this)));},logData:function i(event){c('BrowseClientEventLogger').logData(event,this.currentSessionID,this.currentVertical);},cleanup:function i(){this.subscriptions.release();}};f.exports=h;}),null);
__d('BrowseSnippetFacepile.react',['React','FacepileRounded.react','URI'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=16;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){return c('React').createElement(c('FacepileRounded.react'),{imageSize:j,profiles:this.$BrowseSnippetFacepile1(),showHovercards:true,isClickable:true});};k.prototype.$BrowseSnippetFacepile1=function(){var l=this.props.users_data;return l.map(function(m){var n=new (c('URI'))('https://graph.facebook.com');n.setPath('/'+m.id+'/picture');n.addQueryData({height:j,width:j});return {image_src:n.toString(),name:m.name,entity_id:m.id.toString()};});};function k(){h.apply(this,arguments);}f.exports=k;}),null);
__d('RoundedFacepiles',['BrowseSnippetFacepile.react','ReactRenderer','ge'],(function a(b,c,d,e,f,g){'use strict';var h={init:function i(j,k){var l=c('ge')(j);if(l!=null)c('ReactRenderer').constructAndRenderComponent(c('BrowseSnippetFacepile.react'),{users_data:k},l);}};f.exports=h;}),null);
__d('DesktopVisibilityTracking',['Arbiter','ErrorUtils','LitestandMessages','Run','VisibilityTracking','VisibilityTrackingConfig'],(function a(b,c,d,e,f,g){var h={init:function i(){if(h.instance===undefined){h.instance=new (c('VisibilityTracking'))(c('VisibilityTrackingConfig'));h.instance.listeners.addSubscriptions(c('Arbiter').subscribe([c('LitestandMessages').STORIES_INSERTED],c('ErrorUtils').guard(function(){h.instance.refreshAndFireEvent();},'VisibilityTracking')));}c('Run').onLoad(function(){h.instance.refreshAndFireEvent();});}};f.exports=h;}),null);
__d("XSearchBootstrapEntityModuleLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/search\/async\/bootstrap_entity_module_logging\/",{session_id:{type:"String",required:true},logging_unit_id:{type:"String",required:true},query:{type:"String",required:true},query_function:{type:"String",required:true},results_module_role:{type:"String",required:true},tapped_results_entity_id:{type:"String"},log_module_impression:{type:"Bool",defaultValue:false}});}),null);
__d("XSearchBrowseActionsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/search\/async\/browse_actions\/",{id:{type:"String",required:true},result_type:{type:"String",required:true},viewer_id:{type:"FBID",required:true}});}),null);
__d('SearchEntityModuleResult.react',['cx','fbt','AsyncRequest','Badge.react','BrowseClientEventLogger','CurrentUser','DOM','DOMContainer.react','HovercardLink','Image.react','Link.react','React','SearchEntityModuleServerConstants','URI','WebPixelRatio','XSearchBootstrapEntityModuleLoggingController','XSearchBrowseActionsController','XUIButton.react','XUISpinner.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l,m=c('SearchEntityModuleServerConstants').MODULE_STYLE,n=(l={},l[m.SMALL]=48,l[m.MEDIUM]=64,l[m.LARGE]=72,l[m.XLARGE]=100,l);j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(p){k.constructor.call(this,p);this.actionsWrapper=c('DOM').create('div');this.crActionsWrapper=c('DOM').create('div');this.state={actionsLoaded:false,showCrActions:false};}o.prototype.componentDidMount=function(){this.renderActions();this.logImpression();if(this.props.result.logging_unit_id!=null&&this.props.result.is_bootstrap)this.logUnitData();};o.prototype.render=function(){var p,q=this.props.result.uri,r=c('HovercardLink').constructEndpoint({id:this.props.result.tuid}),s=void 0;if(this.props.result.badge_type){s=c('React').createElement(c('Badge.react'),{type:this.props.result.badge_type,size:'small'});}else if(this.props.result.is_verified===true)s=c('React').createElement(c('Badge.react'),{type:'verified',size:'small'});var t=this.props.result.snippets.map(function(da,ea){return c('React').createElement(c('DOMContainer.react'),{key:'snippet_'+ea,className:(ea===0?"_2yep":'')+(ea!==0?' '+"_2yeq":'')},da);}),u=this.props.result.photos,v=void 0,w=n[this.props.module_style],x=void 0;if(!c('CurrentUser').isWorkUser()&&this.props.result.type==='user'){x=new (c('URI'))('https://graph.facebook.com/'+this.props.result.tuid+'/picture').setQueryData({width:w*c('WebPixelRatio').getOriginalValue(),height:w*c('WebPixelRatio').getOriginalValue()}).toString();}else x=this.props.result.photo;if(u!=null&&!this.props.has_module_guidelines){(function(){var da=u.length,ea=u.map(function(fa,ga){var ha=w/2-ga%2,ia=w/2-Math.round(ga/da);return c('React').createElement(c('Image.react'),{key:ga,className:"_4wq6",src:fa,style:{width:ha+'px',height:ia+'px'}});});v=c('React').createElement('div',{className:"_4wq7",style:{width:w+'px',height:w+'px'}},ea);})();}else{var y=false;if(this.props.result.type==='group')y=this.props.has_module_guidelines;v=c('React').createElement(c('Image.react'),{className:"_2yeu"+(y?' '+"_4lxz":''),src:x,width:w,height:w});}var z=c('React').createElement('div',{className:"_2ye_"},c('React').createElement(c('DOMContainer.react'),null,this.actionsWrapper),c('React').createElement(c('XUIButton.react'),{className:"_4cei"+(this.state.actionsLoaded?' '+"hidden_elem":''),image:c('React').createElement(c('XUISpinner.react'),{size:'small',background:'dark'}),label:i._("Loading...")})),aa=null;if(this.state.showCrActions&&this.crActionsWrapper)aa=c('React').createElement('div',{className:"_5-zc"},c('React').createElement(c('DOMContainer.react'),null,this.crActionsWrapper),c('React').createElement(c('XUIButton.react'),{className:"_4cei"+(this.state.actionsLoaded?' '+"hidden_elem":''),image:c('React').createElement(c('XUISpinner.react'),{size:'small',background:'dark'}),label:i._("Loading...")}));var ba=this.props.module_style===m.XLARGE||this.props.module_style===m.LARGE,ca=null;if(this.props.has_module_guidelines){ca=c('React').createElement('div',{style:{WebkitLineClamp:2},className:"_52eh _5bcu"},this.props.result.text,s);}else ca=c('React').createElement('div',null,this.props.result.text,s);return c('React').createElement('div',babelHelpers['extends']({className:"_2yer"+(' '+"_401d")+(ba?' '+"_2xje":'')+(' '+"_2nuh")},this.getLoggingData()),c('React').createElement(c('Link.react'),{className:"_2yet",href:q,'data-hovercard':r},v),c('React').createElement('div',{className:"_2yev"},c('React').createElement('div',{className:"_2xjf"},c('React').createElement(c('Link.react'),{href:q,className:(this.props.has_module_guidelines?"_1ii5":'')+(' '+"_2yez"),'data-hovercard':r},ca),ba?z:null),c('React').createElement('div',{className:"_2ye-"},t.shift(),c('React').createElement('div',{className:"_2xjg"},t)),aa),ba?null:z);};o.prototype.renderActions=function(){var p=c('SearchEntityModuleServerConstants').TYPE_TO_BROWSE_TYPE[this.props.result.type],q=c('XSearchBrowseActionsController').getURIBuilder().setString('id',this.props.result.tuid).setString('result_type',p).setFBID('viewer_id',this.props.viewer_id);new (c('AsyncRequest'))(q.getURI()).setMethod('POST').setHandler(function(r){var s=r.getPayload();c('DOM').setContent(this.actionsWrapper,s.actions);var t=false;if(s.cr_actions){c('DOM').setContent(this.crActionsWrapper,s.cr_actions);t=true;}this.setState({actionsLoaded:true,showCrActions:t});}.bind(this)).send();};o.prototype.getLoggingData=function(){if(this.loggingData!=null)return this.loggingData;var p=c('SearchEntityModuleServerConstants').TYPE_TO_DISPLAY_STYLE[this.props.result.type],q=c('SearchEntityModuleServerConstants').TYPE_TO_BROWSE_TYPE[this.props.result.type],r=c('SearchEntityModuleServerConstants').WWW_GRAPH_SEARCH_RESULTS_TRACKABLE_CODE,s=r+JSON.stringify({display_style:p,id:this.props.result.tuid,item_type:'result',module_result_type:q,module_type:this.props.module_role,position_in_module:this.props.position_in_module,query:this.props.browse_query,raw_id:parseInt(this.props.result.tuid,10),session_id:this.props.browse_session_id,vertical:'content',is_bootstrap:this.props.result.is_bootstrap,unit_id:this.props.result.logging_unit_id,unit_id_click_type:c('SearchEntityModuleServerConstants').BEM_UNIT_ID_CLICK_TYPE,unit_id_result_id:this.props.result.tuid});this.loggingData={'data-xt':s,'data-gt':JSON.stringify({type:'xtracking',xt:s}),'data-bt':JSON.stringify({id:parseInt(this.props.result.tuid,10)}),'data-xt-vimp':JSON.stringify(this.props.client_view_config),'data-vistracking':'1','data-insertion-position':this.props.position_in_module};return this.loggingData;};o.prototype.logImpression=function(){var p=this.getLoggingData();c('BrowseClientEventLogger').logImpression({xt:p['data-xt']});};o.prototype.logUnitData=function(){var p=this.props.result,q=c('XSearchBootstrapEntityModuleLoggingController').getURIBuilder().setString('logging_unit_id',p.logging_unit_id).setString('session_id',this.props.browse_session_id).setString('query',this.props.plain_text_query).setString('query_function',this.props.browse_query).setString('tapped_results_entity_id',p.tuid).setString('results_module_role',p.module_role).setBool('log_module_impression',false);new (c('AsyncRequest'))(q.getURI()).send();};f.exports=o;}),null);
__d('SearchEntityModule.react',['cx','fbt','AsyncRequest','Link.react','React','SearchEntityModuleResult.react','SearchEntityModuleServerConstants','XSearchBootstrapEntityModuleLoggingController','XUICard.react','XUICardHeader.react','XUICardHeaderTitle.react','XUICardSection.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.onSeeMoreLinkClick=function(event){event.preventDefault();this.setState({isExpanded:true});}.bind(this);this.state={isExpanded:this.props.num_results_to_show==null};this.seeMoreLoggingData={};}l.prototype.componentDidMount=function(){if(this.props.logging_unit_id!=null&&this.props.is_bootstrap_entity_module)this.logUnitData();};l.prototype.render=function(){var m=this.props.num_results_to_show,n=!this.state.isExpanded&&m!=null?this.props.results.slice(0,m):this.props.results;if(n.count()===0)return c('React').createElement('div',null);n=n.map(function(s,t){return c('React').createElement(c('SearchEntityModuleResult.react'),{key:s.tuid,result:s,position_in_module:t,browse_query:this.props.browse_query,client_view_config:this.props.client_view_config,browse_session_id:this.props.browse_session_id,typeahead_session_id:this.props.typeahead_session_id,module_style:this.props.module_style,module_role:this.props.module_role,results:this.props.results,plain_text_query:this.props.plain_text_query,logging_unit_id:this.props.logging_unit_id,callsite:this.props.callsite,has_module_guidelines:this.props.has_module_guidelines,viewer_id:this.props.viewer_id});}.bind(this));var o=c('React').createElement(c('Link.react'),babelHelpers['extends']({},this.getSeeMoreLoggingData('footer'),{href:'',onClick:this.onSeeMoreLinkClick,className:"_5w9f"+(this.state.isExpanded||m==null||this.props.results.size<=m?' '+"hidden_elem":'')}),i._("See All")),p=void 0,q=void 0;if(this.props.see_more_uri!=null){p=c('React').createElement(c('Link.react'),babelHelpers['extends']({},this.getSeeMoreLoggingData('header'),{href:this.props.see_more_uri}),i._("See All"));q=c('React').createElement(c('Link.react'),babelHelpers['extends']({},this.getSeeMoreLoggingData('footer'),{href:this.props.see_more_uri,className:"_5w9f"+(!this.state.isExpanded&&m!=null&&this.props.results.size>m?' '+"hidden_elem":'')}),i._("See All"));}var r=this.props.title instanceof Object&&this.props.title.__html!=null?c('React').createElement('span',{dangerouslySetInnerHTML:this.props.title}):this.props.title;return c('React').createElement('div',{className:"_5w7z"+(this.props.result_type==='user'&&this.props.module_role==='SHORTCUT_PEOPLE'?' '+"_d7o":'')+(this.props.result_type==='user'?' '+"_5w81":'')+(this.props.result_type==='page'?' '+"_5w82":'')+(this.props.result_type==='group'?' '+"_5w84":'')+(this.props.result_type==='application'?' '+"_3h4u":'')+(this.props.result_type==='place'?' '+"_5w9b":'')+(this.props.result_type==='event'?' '+"_5w9c":'')},c('React').createElement(c('XUICard.react'),{className:"_5w9d"},c('React').createElement(c('XUICardHeader.react'),{link:p,type:'primary'},c('React').createElement(c('XUICardHeaderTitle.react'),null,c('React').createElement('div',{className:"_5w9e"}),r)),c('React').createElement(c('XUICardSection.react'),null,n,o,q)));};l.prototype.getSeeMoreLoggingData=function(m){if(this.seeMoreLoggingData[m]!=null)return this.seeMoreLoggingData[m];var n=c('SearchEntityModuleServerConstants').WWW_GRAPH_SEARCH_RESULTS_TRACKABLE_CODE,o=c('SearchEntityModuleServerConstants').SEE_MORE_LOGGING.MODULE_HEADER_ITEM_TYPE,p=c('SearchEntityModuleServerConstants').SEE_MORE_LOGGING.MODULE_FOOTER_ITEM_TYPE,q=n+JSON.stringify({item_type:m==='header'?o:p,module_type:this.props.module_role,query:this.props.browse_query,session_id:this.props.browse_session_id,source_module_role:this.props.module_role,vertical:'content'});this.seeMoreLoggingData[m]={'data-xt':q,'data-gt':JSON.stringify({type:'xtracking',xt:q}),'data-xt-vimp':JSON.stringify(this.props.client_view_config),'data-vistracking':'1','data-bt':JSON.stringify({ct:'see_more',source_module_role:this.props.module_role})};return this.seeMoreLoggingData[m];};l.prototype.logUnitData=function(){var m=c('XSearchBootstrapEntityModuleLoggingController').getURIBuilder().setString('logging_unit_id',this.props.logging_unit_id).setString('session_id',this.props.browse_session_id).setString('query',this.props.plain_text_query).setString('query_function',this.props.browse_query).setString('results_module_role',this.props.module_role).setBool('log_module_impression',true);new (c('AsyncRequest'))(m.getURI()).send();};f.exports=l;}),null);
__d('SearchEntityModuleContainer.react',['FluxContainer','immutable','React','SearchEntityModule.react','SearchEntityModuleActions','SearchEntityModuleContainerStore','SearchEntityModuleDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.getStores=function(){return [c('SearchEntityModuleContainerStore')];};j.calculateState=function(k,l){return {modules:c('SearchEntityModuleContainerStore').getModules(l.browse_session_id)};};j.prototype.componentWillMount=function(){c('SearchEntityModuleDispatcher').explicitlyRegisterStores([c('SearchEntityModuleContainerStore')]);};j.prototype.componentWillUnmount=function(){c('SearchEntityModuleActions').clearAllResultsAndModules(this.props.browse_session_id);};j.prototype.render=function(){var k=this.state.modules,l=k.find(function(n){return n.role===this.props.module_role&&n.is_bootstrap_entity_module===this.props.is_bootstrap_entity_module;}.bind(this));if(l!=null&&l.component==null){l.component=this;c('SearchEntityModuleActions').addResultsToModule(this.props.browse_session_id,{role:this.props.module_role,is_bootstrap_entity_module:this.props.is_bootstrap_entity_module},c('immutable').List(this.props.results));this.forceUpdate();return c('React').createElement('div',null);}if(l!=null&&l.component===this){var m=c('SearchEntityModuleContainerStore').getResults(this.props.browse_session_id,{role:this.props.module_role,is_bootstrap_entity_module:this.props.is_bootstrap_entity_module});return c('React').createElement(c('SearchEntityModule.react'),{plain_text_query:this.props.plain_text_query,browse_query:this.props.browse_query,module_role:this.props.module_role,result_type:this.props.result_type,results:m,num_results_to_show:this.props.num_results_to_show,client_view_config:this.props.client_view_config,typeahead_session_id:this.props.typeahead_session_id,browse_session_id:this.props.browse_session_id,module_style:this.props.module_style,title:this.props.title,see_more_uri:this.props.see_more_uri,logging_unit_id:this.props.logging_unit_id,is_bootstrap_entity_module:this.props.is_bootstrap_entity_module,callsite:this.props.callsite,has_module_guidelines:this.props.has_module_guidelines,viewer_id:this.props.viewer_id});}return c('React').createElement('div',null);};function j(){h.apply(this,arguments);}f.exports=c('FluxContainer').create(j,{withProps:true});}),null);
__d('SearchBootstrapEntityModule',['cx','fbt','Arbiter','BanzaiODS','DOM','FacebarJSConstants','immutable','JSLogger','React','ReactRenderer','SearchEntityModuleContainer.react','SearchEntityModuleContainerStore','SearchEntityModuleDispatcher','SearchEntityModuleServerConstants','SearchEntityModuleUtils','URI','XUINotice.react','$','md5','randomInt','tidyEvent'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=false,k='pagelet_loader_browse:independent:modules:pagelet',l='pagelet_loader_initial_browse_result',m='www_bem_res',n=c('immutable').Map(),o={backend_faster_no_matches:'BEM not shown because backend returned faster but had no matches anyway',backend_faster_with_matches:'BEM had matches but backend was faster',no_matches:'BEM not shown as no matches were found',no_entity_type:'BEM not shown as no user/page/place/group/event found',no_title_found:'BEM not shown as no title for module found',shown:'BEM shown'},p=void 0,q=[];function r(u){return u+':'+c('md5')(String(c('randomInt')(0,Number.MAX_SAFE_INTEGER)));}function s(u,v){var w=n.get(u);if(w==null){w=c('immutable').Map();n.set(u,w);}var x=w.get(v.tuid);if(x==null){x=r(m);w.set(v.tuid,x);}return x;}var t={init:function u(v){c('tidyEvent')(c('Arbiter').subscribe('pagelet_event',function(event,x){if(event==='display'&&(x.id===k||x.id===l))j=true;}),c('Arbiter').subscribe(c('JSLogger').DUMP_EVENT,function(event,x){x.searchBootstrapEntityModule={notice:o[p],matches:JSON.stringify(q)};}));var w=v.squashed_ent_ids?v.squashed_ent_ids:[];c('Arbiter').inform('FacebarDataSource.getBootstrapMatches',{query:v.plain_text_query,callback:function x(y){t.onBootstrapResponse(v,y);},whitelistedEntIds:w},c('Arbiter').BEHAVIOR_PERSISTENT);},onBootstrapResponse:function u(v,w){if(j||w.length===0){if(j){t.printDebugNotice(v,w.length===0?'backend_faster_no_matches':'backend_faster_with_matches',w);}else t.printDebugNotice(v,'no_matches');return;}w=w.sort(function(ca,da){return ca.bootstrapCost-da.bootstrapCost;});var x=void 0;w=w.reduce(function(ca,da){da=babelHelpers['extends']({},da);if(da.type==='app')da.type='application';if(da.render_type==='place')da.type='place';if(x==null&&da.type!==c('FacebarJSConstants').keywordType)x=da.type;if(da.type===x&&ca.length<v.num_bootstrap_entity_results_to_show){if(da.subtext!=null){da.snippets=da.subtext.split(/\s*\u00B7s*/g).map(function(fa){return c('DOM').create('span',{},fa);});var ea=da.snippets.pop();da.snippets=da.snippets.slice(0,v.num_snippets-1);if(ea!=null)da.snippets.push(ea);}else da.snippets=[];da.is_bootstrap=true;if(x!=null)da.module_role=c('SearchEntityModuleServerConstants').RESULT_TYPE_TO_MODULE_ROLE[x];da.logging_unit_id=s(v.browse_session_id,da);da.uri=new (c('URI'))(da.path).addQueryData('ref',c('SearchEntityModuleServerConstants').BROWSE_RESULTS_PAGE_REF);ca.push(da);}return ca;},[]);if(x==null){t.printDebugNotice(v,'no_entity_type',w);return;}var y=null;switch(x){case 'user':y=i._("People");break;case 'page':y=i._("Pages");break;case 'group':y=i._("Groups");break;case 'application':y=i._("Apps");break;case 'place':y=i._("Places");break;case 'event':y=i._("Events");break;}if(y==null){t.printDebugNotice(v,'no_title_found',w);return;}var z=new (c('URI'))(c('SearchEntityModuleServerConstants').TYPE_TO_SERP_PATH[x]).setQueryData({q:v.plain_text_query,ref:v.see_more_ref});c('SearchEntityModuleDispatcher').explicitlyRegisterStores([c('SearchEntityModuleContainerStore')]);var aa=c('SearchEntityModuleContainerStore').getModules(v.browse_session_id);if(aa.size>0){t.printDebugNotice(v,'backend_faster_with_matches',w);return;}var ba=c('SearchEntityModuleServerConstants').RESULT_TYPE_TO_MODULE_ROLE[x];c('SearchEntityModuleUtils').addModules([{role:ba,is_bootstrap_entity_module:true}],v.browse_session_id);t.printDebugNotice(v,'shown',w);c('ReactRenderer').constructAndRenderComponent(c('SearchEntityModuleContainer.react'),{plain_text_query:v.plain_text_query,browse_query:v.browse_query,results:w,result_type:x,module_role:ba,is_bootstrap_entity_module:true,num_results_to_show:v.num_results_to_show,client_view_config:v.client_view_config,browse_session_id:v.browse_session_id,typeahead_session_id:v.typeahead_session_id,module_style:v.module_style,title:y,see_more_uri:z,logging_unit_id:v.logging_unit_id,callsite:v.callsite,has_module_guidelines:v.has_module_guidelines,viewer_id:v.viewer_id,squashed_ent_ids:v.squashed_ent_ids},v.root);},printDebugNotice:function u(v,w,x){p=w;q=x;c('BanzaiODS').bumpEntityKey('search.www.bem',w);if(!v.debug)return;var y=c('DOM').create('div');c('ReactRenderer').renderComponent(c('React').createElement(c('XUINotice.react'),{className:"_3-96"},'FB Only: ',o[w],'.'),y);c('DOM').prependContent(c('$')('browse_result_area'),y);}};f.exports=t;}),null);