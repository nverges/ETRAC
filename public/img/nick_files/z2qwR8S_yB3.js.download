if (self.CavalryLogger) { CavalryLogger.start_js(["XgRpC"]); }

__d('UFIFeedbackContext.react',['React','UFICentralUpdates','UFIFeedbackTargets'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$UFIFeedbackContext1=null,this.state={contextArgs:this.props.contextArgs,feedback:null},m;}k.prototype.loadFeedbackTarget=function(l){if(!this.$UFIFeedbackContext1)this.$UFIFeedbackContext1=c('UFIFeedbackTargets').getFeedbackTarget(l,function(m){this.$UFIFeedbackContext1=null;this.setState({feedback:m});}.bind(this));};k.prototype.componentDidMount=function(){this.loadFeedbackTarget(this.state.contextArgs.ftentidentifier);this.ufiCentralUpdatesSubscriptions=[c('UFICentralUpdates').subscribe('feedback-updated',function(l,m){var n=this.state.contextArgs;if(n.ftentidentifier in m.updates)this.loadFeedbackTarget(n.ftentidentifier);}.bind(this))];};k.prototype.componentWillUnmount=function(){this.ufiCentralUpdatesSubscriptions.forEach(function(l){return l&&c('UFICentralUpdates').unsubscribe(l);});if(this.$UFIFeedbackContext1)c('UFIFeedbackTargets').unsubscribe(this.$UFIFeedbackContext1);};k.prototype.render=function(){if(this.state.feedback)return this.props.render(this.state.contextArgs,this.state.feedback);return null;};k.propTypes={contextArgs:j.object.isRequired,render:j.func.isRequired};k.contextTypes={stores:j.object};f.exports=k;}),null);
__d("XPubcontentRelatedVideoInlineController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pubcontent\/related_video_inline\/",{fbvideo_id:{type:"Int",required:true},query_id:{type:"String",required:true},mf_story_key:{type:"String",required:true},root_video_id:{type:"Int"}});}),null);
__d('EntstreamAttachmentRelatedFBVideo',['csx','cx','Arbiter','AsyncRequest','AttachmentRelatedShareConstants','DOM','DOMQuery','Event','Parent','VideoPlayerReason','XPubcontentRelatedVideoInlineController','ge'],(function a(b,c,d,e,f,g,h,i){var j={addHoverListener:function k(l,m){var n=c('ge')(m),o=c('DOM').scry(n,"^div._3f-c")[0];c('Event').listen(o,'mouseover',this.doHover.bind(this,l));c('Event').listen(o,'mouseout',this.doHoverOut.bind(this,l));},addClickOutListener:function k(l,m){var n=c('ge')(m);c('Event').listen(n,'click',this.doHoverOut.bind(this,l));},doHover:function k(l){l.play(c('VideoPlayerReason').USER);l.mute();},doHoverOut:function k(l,m){l.pause(c('VideoPlayerReason').USER);},loadRelatedLSCInlineFBVideoAttachmentInRelatedCard:function k(l,m,n,o,p,q,r,s){var t=null;if(typeof m==='string'){t=c('ge')(m);}else t=m;if(!t)return;var u=null;if(typeof l==='string'){u=c('ge')(l);}else u=l;if(!u)return;c('Event').listen(u,'click',function(event){var v=event.srcElement?event.srcElement:event.target;if(v)for(var w in q){var x=c('ge')(q[w]);if(x&&c('DOMQuery').contains(x,v))return;}if(event.isDefaultRequested())return;event.preventDefault();var y=null;if(p){var z=c('DOM').scry(t,"^ul._5h5a")[0];if(!z)return;y=z.previousSibling;}else y=u.children[0];setTimeout(function(){var aa=c('XPubcontentRelatedVideoInlineController').getURIBuilder();aa.setInt('fbvideo_id',n);aa.setString('query_id',r);aa.setString('mf_story_key',s);new (c('AsyncRequest'))().setURI(aa.getURI()).setRelativeTo(y).send();},1000);});},loadRelatedFBVideos:function k(l,m){var n=c('ge')(l);if(!n)return;var o="_4zdu",p=c('Parent').byClass(n,o);if(p)return;var q=c('Event').listen(n,'click',function(){q.remove();c('Arbiter').inform(c('AttachmentRelatedShareConstants').FBVIDEO_CLICK,{attachment:n,fbvideo_id:m});});}};f.exports=j;}),null);
__d('UFIReactionsStandalone.react',['React','UFIDispatcher','UFIDispatcherContext.react','UFIFeedbackContext.react','UFIReactionsLinkImpl.react','UFIReactionStore'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.componentWillMount=function(){this.$UFIReactionsStandalone1=new (c('UFIDispatcher'))();this.$UFIReactionsStandalone2={UFIReactionStore:new (c('UFIReactionStore'))(this.$UFIReactionsStandalone1)};};j.prototype.componentWillUnmount=function(){this.$UFIReactionsStandalone2={};this.$UFIReactionsStandalone1=null;};j.prototype.render=function(){if(this.$UFIReactionsStandalone1)return c('React').createElement(c('UFIDispatcherContext.react'),{dispatcher:this.$UFIReactionsStandalone1,stores:this.$UFIReactionsStandalone2},c('React').createElement(c('UFIFeedbackContext.react'),{contextArgs:this.props.contextArgs,render:function k(l,m){return c('React').createElement(c('UFIReactionsLinkImpl.react'),{contextArgs:l,nuxConfig:l.reactionsNuxConfig,reaction:m.viewerreaction,supportedReactions:m.supportedreactions,ftIdentifier:l.ftentidentifier});}}));return null;};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('FeedVideoClickToPlayController',['Event','Set','setImmediate','VideoPlayerAbortLoadingExperiment','VideoPlayerExperiments','VideoPlayerReason','destroyOnUnload','throttle'],(function a(b,c,d,e,f,g){var h=null;function i(){'use strict';this.$FeedVideoClickToPlayController3=new (c('Set'))();this.$FeedVideoClickToPlayController2=null;this.$FeedVideoClickToPlayController1=null;c('destroyOnUnload')(function(){this.$FeedVideoClickToPlayController3.clear();if(this.$FeedVideoClickToPlayController2){this.$FeedVideoClickToPlayController2.remove();this.$FeedVideoClickToPlayController2=null;}if(this.$FeedVideoClickToPlayController1){this.$FeedVideoClickToPlayController1.remove();this.$FeedVideoClickToPlayController1=null;}if(this===h)h=null;}.bind(this));}i.prototype.addVideoUnit=function(j){'use strict';if(!this.$FeedVideoClickToPlayController4())this.$FeedVideoClickToPlayController5();if(!this.$FeedVideoClickToPlayController6())this.$FeedVideoClickToPlayController7();j.addListener('beginPlayback',function(k){var l=k.reason;if(l===c('VideoPlayerReason').USER||l===c('VideoPlayerReason').LOOP)this.$FeedVideoClickToPlayController3.add(j);}.bind(this));j.addListener('turnOffAutoplay',function(k){var l=k.reason;if(l==='unmuted')this.$FeedVideoClickToPlayController3.add(j);}.bind(this));if(j.getVideoPlayerController().isState('playing')&&!j.isAutoplayable())this.$FeedVideoClickToPlayController3.add(j);j.addListener('pausePlayback',function(){this.$FeedVideoClickToPlayController3['delete'](j);}.bind(this));j.addListener('finishPlayback',function(){this.$FeedVideoClickToPlayController3['delete'](j);}.bind(this));};i.registerVideoUnit=function(j){'use strict';if(h==null)h=new i();h.addVideoUnit(j);};i.prototype.$FeedVideoClickToPlayController5=function(){'use strict';if(this.$FeedVideoClickToPlayController2)this.$FeedVideoClickToPlayController2.remove();this.$FeedVideoClickToPlayController2=c('Event').listen(window,'scroll',c('throttle')(this.onWindowEvent.bind(this),200));};i.prototype.$FeedVideoClickToPlayController7=function(){'use strict';if(this.$FeedVideoClickToPlayController1)this.$FeedVideoClickToPlayController1.remove();this.$FeedVideoClickToPlayController1=c('Event').listen(window,'resize',c('throttle')(this.onWindowEvent.bind(this),200));};i.prototype.$FeedVideoClickToPlayController4=function(){'use strict';return !!this.$FeedVideoClickToPlayController2;};i.prototype.$FeedVideoClickToPlayController6=function(){'use strict';return !!this.$FeedVideoClickToPlayController1;};i.prototype.$FeedVideoClickToPlayController8=function(j){'use strict';j.pause(c('VideoPlayerReason').AUTOPLAY);if(c('VideoPlayerAbortLoadingExperiment').canAbort)j.abortLoading();this.$FeedVideoClickToPlayController3['delete'](j);};i.prototype.onWindowEvent=function(){'use strict';this.$FeedVideoClickToPlayController3.forEach(function(j){if(j&&!j.isVisible()&&!j.getIsInChannel()){var k=j.getVideoPlayerController();if(k.isAd()||c('VideoPlayerExperiments').pauseWhenOffscreen){if(c('VideoPlayerExperiments').slidingWNSv3){c('setImmediate')(function(){if(j&&!j.isVisible()&&!j.getIsInChannel())this.$FeedVideoClickToPlayController8(j);}.bind(this));}else this.$FeedVideoClickToPlayController8(j);}else if(k.isMuted()&&k.isState('playing')){this.$FeedVideoClickToPlayController8(j);k.emit('resumeAutoplay');}}}.bind(this));};f.exports=i;}),null);
__d('FeedVideoPlayerController',['csx','Arbiter','AttachmentRelatedShareConstants','DOM','DOMQuery','LitestandStoryInsertionStatus','Run','Set','SubscriptionsHandler','VideoAutoplayPlayerBase','VideoPlayerApiEvents','VideoPlayerExperiments','VideoPlayerFallbackEvents','VideoPlayerLoggerErrors','VideoPlayerLoggerErrorStates','VideoPlayerLoggerEvent','VideoPlayerReason','VideoPlayerStates','getElementPosition','getViewportDimensions'],(function a(b,c,d,e,f,g,h){var i,j,k=42;i=babelHelpers.inherits(l,c('VideoAutoplayPlayerBase'));j=i&&i.prototype;function l(m,n){'use strict';j.constructor.call(this);this.$FeedVideoPlayerController1=n;this.$FeedVideoPlayerController2=m;this.$FeedVideoPlayerController3=new (c('Set'))();if(!this.$FeedVideoPlayerController1.viewport_autoplay)this.$FeedVideoPlayerController3.add('server_blocked');this.$FeedVideoPlayerController12=c('VideoPlayerExperiments').autoplayUntilHalfGone?.5:1;this.$FeedVideoPlayerController4=this.isAutoplayable();this.$FeedVideoPlayerController6=n.controller;this.$FeedVideoPlayerController10=n.startsMuted;this.$FeedVideoPlayerController7=this.isAutoplayable();if(this.$FeedVideoPlayerController6.getIsInChannel()||this.$FeedVideoPlayerController6.isState(c('VideoPlayerStates').PLAYING)&&!this.$FeedVideoPlayerController6.isMuted())this.$FeedVideoPlayerController7=false;this.$FeedVideoPlayerController6.registerOption('FeedAutoplay','isAutoplaying',function(){return this.$FeedVideoPlayerController7;}.bind(this),function(o){this.$FeedVideoPlayerController7=o;}.bind(this));this.$FeedVideoPlayerController6.registerOption('FeedAutoplay','isVisibleForAutoplay',function(){return this.isVisible();}.bind(this));this.$FeedVideoPlayerController6.registerOption('FeedAutoplay','shouldOpenSidePaneInChannelView',function(){return n.autoPlayWithChannelViewOrSnowlift;});this.$FeedVideoPlayerController6.setLogEntryPropertyGetters({autoplay_eligible:function(){return this.isAutoplayable();}.bind(this),autoplay_failure_reasons:function(){return JSON.stringify(Array.from(this.$FeedVideoPlayerController3));}.bind(this)});this.$FeedVideoPlayerController13();c('Run').onLeave(function(){this.$FeedVideoPlayerController5.release();}.bind(this));if(this.isState(c('VideoPlayerStates').FALLBACK)){this.$FeedVideoPlayerController14();this.$FeedVideoPlayerController15();return;}this.$FeedVideoPlayerController5.addSubscriptions(c('LitestandStoryInsertionStatus').registerBlocker(function(){return this.isState(c('VideoPlayerStates').PLAYING);}.bind(this)));}l.prototype.$FeedVideoPlayerController16=function(){'use strict';return !!this.$FeedVideoPlayerController1.show_play_button_on_finish;};l.prototype.getDistanceToViewport=function(){'use strict';if(this.$FeedVideoPlayerController6.isFullscreen())return 0;var m=c('getViewportDimensions')().height,n=this.getDOMPosition();if(n.height===0)return -Infinity;var o=n.y+(1-this.$FeedVideoPlayerController12)*n.height;return o-m/2;};l.prototype.isVisible=function(){'use strict';if(this.$FeedVideoPlayerController6.isFullscreen())return true;var m=c('getViewportDimensions')().height,n=c('getViewportDimensions')().width,o=this.getDOMPosition();if(o.height===0)return false;var p=o.y-k+(1-this.$FeedVideoPlayerController12)*o.height,q=o.y+this.$FeedVideoPlayerController12*o.height,r=o.x+(1-this.$FeedVideoPlayerController12)*o.width,s=o.x+this.$FeedVideoPlayerController12*o.width;if(p<0||q>=m||r<0||s>=n)return false;var t=this.$FeedVideoPlayerController17();if(t!==null)return this.$FeedVideoPlayerController18(o,c('getElementPosition')(t));return true;};l.prototype.$FeedVideoPlayerController17=function(){'use strict';var m=c('DOMQuery').scry(this.$FeedVideoPlayerController2.video_container,"^div._1yj5");if(m.length>0)return m[0];return null;};l.prototype.$FeedVideoPlayerController18=function(m,n){'use strict';var o=m.x,p=m.x+m.width,q=n.x,r=n.x+n.width;return q<o&&p<r;};l.prototype.isAutoplayable=function(){'use strict';return this.$FeedVideoPlayerController1.viewport_autoplay&&!this.$FeedVideoPlayerController9&&!this.$FeedVideoPlayerController3.size;};l.prototype.$FeedVideoPlayerController19=function(m){'use strict';if(this.$FeedVideoPlayerController4){this.$FeedVideoPlayerController4=false;this.$FeedVideoPlayerController6.unmute();}this.$FeedVideoPlayerController6.play(m);};l.prototype.getCurrentTimePosition=function(){'use strict';return this.$FeedVideoPlayerController6.getCurrentTimePosition();};l.prototype.playWithoutUnmute=function(m){'use strict';this.$FeedVideoPlayerController6.play(m);};l.prototype.getVideoID=function(){'use strict';return this.$FeedVideoPlayerController6.getVideoID();};l.prototype.$FeedVideoPlayerController20=function(){'use strict';this.$FeedVideoPlayerController15();};l.prototype.$FeedVideoPlayerController13=function(){'use strict';this.$FeedVideoPlayerController5=new (c('SubscriptionsHandler'))();var m=[['finishPlayback',function(){return this.$FeedVideoPlayerController21();}.bind(this)],['turnOffAutoplay',function(o){var p=null;if(o)p=o.reason;this.$FeedVideoPlayerController22(p);}.bind(this)],['unmuteVideo',function(){return this.$FeedVideoPlayerController23();}.bind(this)],['stateChange',function(){return this.$FeedVideoPlayerController24();}.bind(this)],['switchVideo',function(){return this.$FeedVideoPlayerController20();}.bind(this)],['fallbackPlay',function(){return this.$FeedVideoPlayerController25();}.bind(this)],['buffered',function(){return this.$FeedVideoPlayerController15();}.bind(this)],['buffering',function(){return this.$FeedVideoPlayerController15();}.bind(this)],['beginPlayback',function(o){var p=o.reason;return this.$FeedVideoPlayerController26(p);}.bind(this)],['toggleFullscreen',function(){return this.$FeedVideoPlayerController27();}.bind(this)],['resumeAutoplay',function(o){var p=null;if(o)p=o.reason;this.$FeedVideoPlayerController28(p);}.bind(this)]],n=function(event){return this.emit.bind(this,event);}.bind(this);this.$FeedVideoPlayerController5.addSubscriptions.apply(this.$FeedVideoPlayerController5,m.map(function(o){var p=o[0],q=o[1];return this.$FeedVideoPlayerController6.addListener(p,q);}.bind(this)).concat(c('VideoPlayerApiEvents').map(function(event){return this.$FeedVideoPlayerController6.addListener(event,n(event));}.bind(this))));};l.prototype.$FeedVideoPlayerController27=function(){'use strict';if(this.$FeedVideoPlayerController10)this.$FeedVideoPlayerController6.unmute();};l.prototype.$FeedVideoPlayerController24=function(){'use strict';if(this.$FeedVideoPlayerController6.isState(c('VideoPlayerStates').FALLBACK))this.$FeedVideoPlayerController14();if(!this.$FeedVideoPlayerController6.isState(c('VideoPlayerStates').LOADING)&&this.$FeedVideoPlayerController8){clearTimeout(this.$FeedVideoPlayerController8);this.$FeedVideoPlayerController8=null;}this.$FeedVideoPlayerController15();};l.prototype.$FeedVideoPlayerController26=function(m){'use strict';if(m===c('VideoPlayerReason').USER&&this.$FeedVideoPlayerController10)this.$FeedVideoPlayerController6.unmute();};l.prototype.preload=function(){'use strict';if(this.$FeedVideoPlayerController6.preload)this.$FeedVideoPlayerController6.preload();};l.prototype.logDisplayed=function(){'use strict';this.$FeedVideoPlayerController6.logEvent(c('VideoPlayerLoggerEvent').DISPLAYED,{autoplay_reason:this.$FeedVideoPlayerController1.autoplay_reason});};l.prototype.$FeedVideoPlayerController25=function(){'use strict';var m={error:c('VideoPlayerLoggerErrors').ENTERED_FALLBACK,state:c('VideoPlayerLoggerErrorStates').PLAYBACK_FAILURE};this.$FeedVideoPlayerController6.logEvent(c('VideoPlayerLoggerEvent').ERROR,m);};l.prototype.$FeedVideoPlayerController23=function(){'use strict';if(c('VideoPlayerExperiments').slidingWNSv3&&this.$FeedVideoPlayerController6.isAd())this.$FeedVideoPlayerController12=.5;this.$FeedVideoPlayerController10=false;this.$FeedVideoPlayerController29();this.$FeedVideoPlayerController7=false;};l.prototype.$FeedVideoPlayerController21=function(){'use strict';var m=this.$FeedVideoPlayerController6.getOption('Looping','isLooping');if(!m)this.$FeedVideoPlayerController30('has_seen_finished');};l.prototype.$FeedVideoPlayerController14=function(){'use strict';this.$FeedVideoPlayerController11={isAutoplaying:this.$FeedVideoPlayerController7,preventAutoplay:this.$FeedVideoPlayerController9};this.$FeedVideoPlayerController30(c('VideoPlayerStates').FALLBACK);};l.prototype.$FeedVideoPlayerController30=function(m){'use strict';this.$FeedVideoPlayerController9=true;if(m)this.$FeedVideoPlayerController3.add(m);this.$FeedVideoPlayerController7=false;};l.prototype.$FeedVideoPlayerController28=function(m){'use strict';if(m){this.$FeedVideoPlayerController3['delete'](m);}else{this.$FeedVideoPlayerController3['delete']('unmuted');this.$FeedVideoPlayerController3['delete']('has_seen_finished');this.$FeedVideoPlayerController3['delete']('manually_paused');}this.$FeedVideoPlayerController9=this.$FeedVideoPlayerController3.size>0;this.$FeedVideoPlayerController7=!this.$FeedVideoPlayerController9;};l.prototype.$FeedVideoPlayerController22=function(m){'use strict';this.$FeedVideoPlayerController30(m);this.$FeedVideoPlayerController7=false;};l.prototype.$FeedVideoPlayerController15=function(){'use strict';this.$FeedVideoPlayerController31();};l.prototype.getDOMPosition=function(){'use strict';return this.$FeedVideoPlayerController6.getDOMPosition();};l.prototype.isLooping=function(){'use strict';return !!this.$FeedVideoPlayerController6.getOption('Looping','isLooping');};l.prototype.pause=function(m){'use strict';this.$FeedVideoPlayerController6.pause(m);};l.prototype.$FeedVideoPlayerController32=function(){'use strict';this.$FeedVideoPlayerController13();this.$FeedVideoPlayerController3['delete'](c('VideoPlayerStates').FALLBACK);this.$FeedVideoPlayerController7=this.$FeedVideoPlayerController11.isAutoplaying;this.$FeedVideoPlayerController9=this.$FeedVideoPlayerController11.preventAutoplay;};l.prototype.$FeedVideoPlayerController31=function(){var m,n=this;'use strict';if(this.isState(c('VideoPlayerStates').FALLBACK)){this.$FeedVideoPlayerController5.release();var o=this.$FeedVideoPlayerController2;if(o.fallback_link){c('DOM').remove(this.$FeedVideoPlayerController6.getVideoNode());c('DOM').replace(o.video_container,o.fallback_link);c('DOM').appendContent(o.fallback_link,o.video_container);}if(this.$FeedVideoPlayerController6.isFallbackRecoverable()){this.$FeedVideoPlayerController32();}else (function(){var p=n.$FeedVideoPlayerController6.addListener(c('VideoPlayerFallbackEvents').RECOVER,function(){this.$FeedVideoPlayerController32();p.remove();}.bind(n));})();}};l.prototype.$FeedVideoPlayerController29=function(){'use strict';c('Arbiter').inform(c('AttachmentRelatedShareConstants').FBVIDEO_CLICK,{attachment:this.$FeedVideoPlayerController2.video_container,fbvideo_id:this.$FeedVideoPlayerController1.video_ids[0]});};l.prototype.isState=function(m){'use strict';return this.$FeedVideoPlayerController6.isState(m);};l.prototype.getSource=function(){'use strict';return this.$FeedVideoPlayerController6.getSource();};l.prototype.getIsInChannel=function(){'use strict';return this.$FeedVideoPlayerController6.getIsInChannel();};l.prototype.getVideoPlayerController=function(){'use strict';return this.$FeedVideoPlayerController6;};l.prototype.abortLoading=function(){'use strict';if(!this.$FeedVideoPlayerController1.abort_loading_blocked)this.$FeedVideoPlayerController6.abortLoading();};f.exports=l;}),null);
__d('VideoFeedRegister',['Bootloader','FeedVideoPlayerController','VideoAutoplayControllerX','VideoPlayerFeedRegisterConfig'],(function a(b,c,d,e,f,g){var h={registerVideoUnit:function i(j,k){var l,m=k.controller;if(k.controller.getOption('VideoWithInstreamVideo','enabled'))k.controller=k.controller.getOption('VideoWithInstreamVideo','controller');var n=new (c('FeedVideoPlayerController'))(j,k);k.controller.registerOption('WatchAndScroll','isEligible',function(){return k.wnsEnabled;});if(k.channelVersion){if((k.channelVersion!=='channel_view'||!k.channelModule.getInteraction())&&c('VideoPlayerFeedRegisterConfig').watchAndScrollModule&&c('VideoPlayerFeedRegisterConfig').watchAndScrollModule.isActive()){c('VideoPlayerFeedRegisterConfig').watchAndScrollModule.registerChannelVideoController(k.controller);return;}if(k.channelVersion==='channel_view')k.channelModule.registerVideoController(k.controller);}else c('VideoAutoplayControllerX').registerVideoUnit(n);if(k.wnsEnabled&&c('VideoPlayerFeedRegisterConfig').watchAndScrollModule)c('VideoPlayerFeedRegisterConfig').watchAndScrollModule.registerVideoController(k.controller,k.videoChannelCaller,c('VideoPlayerFeedRegisterConfig').watchAndScrollV3,c('VideoPlayerFeedRegisterConfig').wnsChannelsIntegrationEnabled);if(c('VideoPlayerFeedRegisterConfig').disableOffscreenPlayModule)c('VideoPlayerFeedRegisterConfig').disableOffscreenPlayModule.registerVideoUnit(n);if(k.autoPlayWithChannelViewOrSnowlift)(function(){var o=m;o.runOnApiReady(function(){var p=o.getOption('VideoWithClickToChannelView','isChannelEligible');if(p){c('Bootloader').loadModules(["VideoChannelController"],function(q){return q.openFromVideoPlayer(o,o.getVideoChannelID(),k.videoChannelCaller);},'VideoFeedRegister');}else c('Bootloader').loadModules(["PhotoSnowlift"],function(q){return q.bootstrap(o.getVideoURL());},'VideoFeedRegister');});})();}};f.exports=h;}),null);
__d('VideoPlayerRegistry',['regeneratorRuntime','Promise','EventEmitter','Set'],(function a(b,c,d,e,f,g){var h=new (c('Set'))(),i=new (c('EventEmitter'))(),j={ADDED:'added',REMOVED:'removed',addListener:function k(l,m){return i.addListener(l,m);},once:function k(l,m){return i.once(l,m);},has:function k(l){return h.has(l);},add:function k(l){if(j.has(l))return false;h.add(l);i.emit(j.ADDED,l);return true;},remove:function k(l){if(!j.has(l))return false;h['delete'](l);i.emit(j.REMOVED,l);return true;},count:function k(){return h.size;},getList:function k(){return Array.from(h);},getByRootNode:function k(l){var m;return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:m=null;this.getList().forEach(function(p){if(p.getByRootNode()===l)m=p;});if(m){o.next=6;break;}o.next=5;return c('regeneratorRuntime').awrap(new (c('Promise'))(function(p,q){var r=this.addListener(j.ADDED,function(s){if(s.getRootNode()===l){r.remove();p(s);}});}.bind(this)));case 5:m=o.sent;case 6:return o.abrupt('return',m);case 7:case 'end':return o.stop();}},null,this);}};f.exports=j;}),null);
__d('VideoScrubberPreviewComponent',['Map'],(function a(b,c,d,e,f,g){function h(i,j){'use strict';if(!j)throw new Error('VideoScrubberPreview Component config null.');this.$VideoScrubberPreviewComponent4=j;this.$VideoScrubberPreviewComponent5=i;this.$VideoScrubberPreviewComponent2=j.hasPreviewThumbnails;this.$VideoScrubberPreviewComponent3=h.getSpriteURIs(j.spriteIndexToURIMap);this.$VideoScrubberPreviewComponent6();}h.prototype.hasPreviewThumbnails=function(){'use strict';return this.$VideoScrubberPreviewComponent2;};h.prototype.$VideoScrubberPreviewComponent6=function(){'use strict';this.$VideoScrubberPreviewComponent5.registerOption('VideoScrubberPreviewComponent','scrubberPreviewSprites',this.getSprites.bind(this));this.$VideoScrubberPreviewComponent5.registerOption('VideoScrubberPreviewComponent','hasPreviewThumbnails',this.hasPreviewThumbnails.bind(this));this.$VideoScrubberPreviewComponent5.registerOption('VideoScrubberPreviewComponent','previewThumbnailInformation',this.getPreviewThumbnailInformation.bind(this));};h.prototype.getSprites=function(){'use strict';return this.$VideoScrubberPreviewComponent3;};h.prototype.getPreviewThumbnailInformation=function(){'use strict';if(this.hasPreviewThumbnails()){this.$VideoScrubberPreviewComponent4.imagesPerColumn=this.$VideoScrubberPreviewComponent4.maxImagesPerSprite/this.$VideoScrubberPreviewComponent4.imagesPerRow;}else this.$VideoScrubberPreviewComponent4.imagesPerColumn=0;return this.$VideoScrubberPreviewComponent4;};h.getSpriteURIs=function(i){'use strict';var j=new (c('Map'))();for(var k in i)if(Object.prototype.hasOwnProperty.call(i,k))j.set(parseInt(k,10),i[k]);return j;};f.exports=h;}),null);
__d('VideoWithClickToSnowlift',['Bootloader','logVideosClickTracking','VideoPlayerReason'],(function a(b,c,d,e,f,g){function h(i,j){'use strict';this.$VideoWithClickToSnowlift1=i;this.$VideoWithClickToSnowlift2=j;this.$VideoWithClickToSnowlift1.addListener('clickVideo',this.$VideoWithClickToSnowlift3.bind(this));if(this.$VideoWithClickToSnowlift1.hasSeenClick())this.$VideoWithClickToSnowlift3();}h.prototype.$VideoWithClickToSnowlift3=function(){'use strict';if(this.$VideoWithClickToSnowlift1.isFullscreen()){if(this.$VideoWithClickToSnowlift1.getOption('VideoWithLiveBroadcast','isLive'))return;if(this.$VideoWithClickToSnowlift1.isState('playing')){this.$VideoWithClickToSnowlift1.pause(c('VideoPlayerReason').USER);}else{c('logVideosClickTracking')(this.$VideoWithClickToSnowlift1.getVideoNode());this.$VideoWithClickToSnowlift1.play(c('VideoPlayerReason').USER);}}else c('Bootloader').loadModules(["PhotoSnowlift"],function(i){return i.bootstrap(this.$VideoWithClickToSnowlift2);}.bind(this),'VideoWithClickToSnowlift');};f.exports=h;}),null);
__d('VideoWithFluentUFISupport',['UFIVideoPlayerRegistry'],(function a(b,c,d,e,f,g){function h(i){'use strict';c('UFIVideoPlayerRegistry').registerVideoPlayerController(i);}f.exports=h;}),null);
__d('VideoWithSequentialAutoplay',['Arbiter','SubscriptionsHandler','VideoPlayerReason','destroyOnUnload'],(function a(b,c,d,e,f,g){function h(i,j){'use strict';this.$VideoWithSequentialAutoplay1=i;this.$VideoWithSequentialAutoplay2=j;this.$VideoWithSequentialAutoplay1.addListener('finishPlayback',this.$VideoWithSequentialAutoplay3.bind(this));this.$VideoWithSequentialAutoplay4=new (c('SubscriptionsHandler'))();this.$VideoWithSequentialAutoplay4.addSubscriptions(c('Arbiter').subscribe('nextVideoAutoplay',function(k,l){if(l.nextVideoID==this.$VideoWithSequentialAutoplay1.getVideoID())this.$VideoWithSequentialAutoplay1.play(c('VideoPlayerReason').AUTOPLAY);}.bind(this)));c('destroyOnUnload')(function(){return this.$VideoWithSequentialAutoplay4.release();}.bind(this));}h.prototype.$VideoWithSequentialAutoplay3=function(){'use strict';c('Arbiter').inform('nextVideoAutoplay',{nextVideoID:this.$VideoWithSequentialAutoplay2});};f.exports=h;}),null);
__d('VideoWithSpacePlayPause',['Event','Run','VideoPlayerReason'],(function a(b,c,d,e,f,g){var h=32;function i(j){'use strict';this.$VideoWithSpacePlayPause1=j;var k=c('Event').listen(window,'keypress',this.$VideoWithSpacePlayPause2.bind(this));c('Run').onLeave(function(){return k.remove();});}i.prototype.$VideoWithSpacePlayPause2=function(j){'use strict';if(this.$VideoWithSpacePlayPause1.isFullscreen()&&j.charCode==h)if(this.$VideoWithSpacePlayPause1.isState('playing')){this.$VideoWithSpacePlayPause1.pause(c('VideoPlayerReason').USER);}else this.$VideoWithSpacePlayPause1.play(c('VideoPlayerReason').USER);};f.exports=i;}),null);
__d('VideoWithVODBroadcast',[],(function a(b,c,d,e,f,g){function h(i){'use strict';i.registerOption('VideoWithVODBroadcast','isLiveVOD',function(){return true;});}f.exports=h;}),null);
__d("XVideoQualitySurveyController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/quality_survey\/",{videoid:{type:"String"},__asyncDialog:{type:"Int"}});}),null);
__d('VideoPlayButton',['AsyncRequest','CSS','EventListener','VideoDisplayTimePlayButton','VideoPlayerLoggerSource','XVideoQualitySurveyController'],(function a(b,c,d,e,f,g){function h(i,j,k){'use strict';this.$VideoPlayButton1=i;this.$VideoPlayButton2=j;if(k){this.$VideoPlayButton3=k.hiddenAfterFinish;this.$VideoPlayButton4=k.hiddenWhilePaused;this.$VideoPlayButton5=!!k.hiddenInFallback;this.$VideoPlayButton5=k.hiddenInFallback;this.$VideoPlayButton6=k.spherical;}var l=c('VideoDisplayTimePlayButton').getClicked(this.$VideoPlayButton2);c('VideoDisplayTimePlayButton').unregister(this.$VideoPlayButton2);i.addListener('beginPlayback',this.$VideoPlayButton7.bind(this));i.addListener('finishPlayback',this.$VideoPlayButton8.bind(this));i.addListener('pausePlayback',this.$VideoPlayButton9.bind(this));i.addListener('buffering',this.$VideoPlayButton10.bind(this));i.addListener('buffered',this.$VideoPlayButton11.bind(this));i.addListener('stateChange',this.$VideoPlayButton12.bind(this));i.addListener('playRequested',this.$VideoPlayButton13.bind(this));i.addListener('VideoChannelController/exitChannel',this.$VideoPlayButton14.bind(this));i.addListener('clickVideo',this.$VideoPlayButton15.bind(this));c('EventListener').listen(this.$VideoPlayButton2,'click',this.$VideoPlayButton16.bind(this));if(k&&k.hiddenWhileJSLoading&&!k.hiddenWhileVideoLoading)c('CSS').show(this.$VideoPlayButton2);if(l)this.$VideoPlayButton16();}h.prototype.$VideoPlayButton12=function(){'use strict';if(this.$VideoPlayButton1.isState('fallback'))if(this.$VideoPlayButton5||this.$VideoPlayButton1.getIsInChannel()){c('CSS').hide(this.$VideoPlayButton2);}else c('CSS').show(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton7=function(){'use strict';c('CSS').hide(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton9=function(){'use strict';if(this.$VideoPlayButton4)return;c('CSS').show(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton13=function(){'use strict';if(this.$VideoPlayButton1.isState('fallback'))return;c('CSS').hide(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton14=function(){'use strict';if(this.$VideoPlayButton1.isState('paused')&&(!this.$VideoPlayButton4||this.$VideoPlayButton6)||this.$VideoPlayButton1.isState('finished')&&!this.$VideoPlayButton3)c('CSS').show(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton8=function(){'use strict';var i=this.$VideoPlayButton1.getOption('Looping','isLooping');if(this.$VideoPlayButton3||this.$VideoPlayButton1.getIsInChannel()||this.$VideoPlayButton1.getSource()===c('VideoPlayerLoggerSource').TAHOE||i){c('CSS').hide(this.$VideoPlayButton2);}else c('CSS').show(this.$VideoPlayButton2);if(!this.$VideoPlayButton1.getIsInChannel()&&!this.$VideoPlayButton1.isAd()&&!this.$VideoPlayButton1.hasOption('WatchAndScroll','isActive')&&!this.$VideoPlayButton1.isMuted()&&this.$VideoPlayButton1.getSource()!==c('VideoPlayerLoggerSource').MESSAGING){var j=c('XVideoQualitySurveyController').getURIBuilder().setString('videoid',this.$VideoPlayButton1.getVideoID()).getURI(),k=new (c('AsyncRequest'))().setURI(j);k.send();}};h.prototype.$VideoPlayButton10=function(){'use strict';c('CSS').hide(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton11=function(){'use strict';c('CSS').hide(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton16=function(){'use strict';this.$VideoPlayButton1.clickVideo();};h.prototype.$VideoPlayButton15=function(){'use strict';if(this.$VideoPlayButton1.isState('fallback'))return;c('CSS').hide(this.$VideoPlayButton2);};f.exports=h;}),null);
__d('VideoCTAEndscreen',['cx','Arbiter','AttachmentRelatedShareConstants','CSS','Event','Focus','SubscriptionsHandler','VideoCTALoggingConfig','VideoPlayerReason','VideoPlayerLoggerEvent','logVideosClickTracking'],(function a(b,c,d,e,f,g,h){function i(j,k){'use strict';this.$VideoCTAEndscreen1=j;this.$VideoCTAEndscreen2=k.endscreenElement;this.$VideoCTAEndscreen3=k.replayElement;this.$VideoCTAEndscreen4=k.ctaElement;this.$VideoCTAEndscreen5=k.isPausescreen;this.$VideoCTAEndscreen6=new (c('SubscriptionsHandler'))();this.$VideoCTAEndscreen6.addSubscriptions(c('Event').listen(this.$VideoCTAEndscreen3,'click',function(){return this.$VideoCTAEndscreen7();}.bind(this)),j.addListener('beginPlayback',function(){return this.$VideoCTAEndscreen8();}.bind(this)),j.addListener('VideoChannelController/exitChannel',function(){if(j.isState('finished'))this.$VideoCTAEndscreen9();}.bind(this)));if(this.$VideoCTAEndscreen4)this.$VideoCTAEndscreen6.addSubscriptions(c('Event').listen(this.$VideoCTAEndscreen4,'click',function(){return this.$VideoCTAEndscreen10();}.bind(this)));if(this.$VideoCTAEndscreen5){this.$VideoCTAEndscreen6.addSubscriptions(j.addListener('pausePlayback',function(){return this.$VideoCTAEndscreen11();}.bind(this)));}else this.$VideoCTAEndscreen6.addSubscriptions(j.addListener('finishPlayback',function(){return this.$VideoCTAEndscreen9();}.bind(this)));}i.prototype.$VideoCTAEndscreen7=function(){'use strict';var j={reason:c('VideoPlayerReason').USER};this.$VideoCTAEndscreen1.clickVideo();if(this.$VideoCTAEndscreen1.isState('paused')){if(c('VideoCTALoggingConfig').shouldLogUnpausedEvent)this.$VideoCTAEndscreen1.logEvent(c('VideoPlayerLoggerEvent').UNPAUSED,j);}else if(this.$VideoCTAEndscreen1.isState('finished'))this.$VideoCTAEndscreen1.logEvent(c('VideoPlayerLoggerEvent').REPLAYED,j);var k=this.$VideoCTAEndscreen1.getVideoNode();c('logVideosClickTracking')(k);c('Focus').set(k);};i.prototype.$VideoCTAEndscreen10=function(){'use strict';c('Arbiter').inform(c('AttachmentRelatedShareConstants').FBVIDEO_CLICK,{attachment:this.$VideoCTAEndscreen1.getRootNode(),fbvideo_id:this.$VideoCTAEndscreen1.getVideoID()});};i.prototype.$VideoCTAEndscreen9=function(){'use strict';if(!this.$VideoCTAEndscreen1.getIsInChannel())this.$VideoCTAEndscreen11();};i.prototype.$VideoCTAEndscreen11=function(){'use strict';c('CSS').addClass(this.$VideoCTAEndscreen2,"_1qbf");};i.prototype.$VideoCTAEndscreen8=function(){'use strict';c('CSS').removeClass(this.$VideoCTAEndscreen2,"_1qbf");};f.exports=i;}),null);
__d('VideoPlayerRegistryComponent',['invariant','SubscriptionsHandler','VideoPlayerRegistry'],(function a(b,c,d,e,f,g,h){function i(j){'use strict';this.$VideoPlayerRegistryComponent1=j||null;this.$VideoPlayerRegistryComponent2=new (c('SubscriptionsHandler'))();if(this.$VideoPlayerRegistryComponent1)this.$VideoPlayerRegistryComponent3();}i.prototype.destroy=function(){'use strict';this.$VideoPlayerRegistryComponent4();this.$VideoPlayerRegistryComponent1=null;};i.prototype.getController=function(){'use strict';var j=this.$VideoPlayerRegistryComponent1;j||h(0);return j;};i.prototype.enable=function(j){'use strict';if(this.$VideoPlayerRegistryComponent1&&this.$VideoPlayerRegistryComponent1!==j)this.$VideoPlayerRegistryComponent4();this.$VideoPlayerRegistryComponent1=j;this.$VideoPlayerRegistryComponent3();};i.prototype.disable=function(j){'use strict';this.$VideoPlayerRegistryComponent4();};i.prototype.$VideoPlayerRegistryComponent3=function(){'use strict';var j=this.getController();c('VideoPlayerRegistry').add(j);this.$VideoPlayerRegistryComponent2.addSubscriptions(j.addListener('stateChange',function(){if(j.isState('destroyed'))this.destroy();}.bind(this)));};i.prototype.$VideoPlayerRegistryComponent4=function(){'use strict';var j=this.getController();this.$VideoPlayerRegistryComponent2.release();this.$VideoPlayerRegistryComponent2.engage();c('VideoPlayerRegistry').remove(j);};f.exports=i;}),null);
__d('VideoSpinner',['cx','CSS','EventListener'],(function a(b,c,d,e,f,g,h){function i(j,k){'use strict';this.$VideoSpinner2=k;this.$VideoSpinner1=j;this.$VideoSpinner3=false;j.addListener('beginPlayback',this.$VideoSpinner4.bind(this));j.addListener('finishPlayback',this.$VideoSpinner5.bind(this));j.addListener('pausePlayback',this.$VideoSpinner6.bind(this));j.addListener('playRequested',this.$VideoSpinner7.bind(this));j.addListener('buffering',this.$VideoSpinner8.bind(this));j.addListener('buffered',this.$VideoSpinner9.bind(this));j.addListener('stateChange',this.$VideoSpinner10.bind(this));j.addListener('clickVideo',this.$VideoSpinner11.bind(this));j.addListener('VideoSphericalOverlay/animationUpdate',this.$VideoSpinner12.bind(this));c('EventListener').listen(this.$VideoSpinner2,'click',this.$VideoSpinner13.bind(this));}i.prototype.$VideoSpinner12=function(j){'use strict';if(j){c('CSS').addClass(this.$VideoSpinner2,"_1st9");}else c('CSS').removeClass(this.$VideoSpinner2,"_1st9");};i.prototype.$VideoSpinner8=function(){'use strict';c('CSS').show(this.$VideoSpinner2);this.$VideoSpinner3=true;};i.prototype.$VideoSpinner9=function(){'use strict';c('CSS').hide(this.$VideoSpinner2);this.$VideoSpinner3=false;};i.prototype.$VideoSpinner4=function(){'use strict';if(this.$VideoSpinner3){c('CSS').show(this.$VideoSpinner2);}else c('CSS').hide(this.$VideoSpinner2);};i.prototype.$VideoSpinner6=function(){'use strict';c('CSS').hide(this.$VideoSpinner2);};i.prototype.$VideoSpinner7=function(){'use strict';c('CSS').hide(this.$VideoSpinner2);};i.prototype.$VideoSpinner5=function(){'use strict';c('CSS').hide(this.$VideoSpinner2);};i.prototype.$VideoSpinner10=function(){'use strict';if(this.$VideoSpinner1.isState('fallback'))c('CSS').hide(this.$VideoSpinner2);};i.prototype.$VideoSpinner11=function(){'use strict';if(this.$VideoSpinner1.isState('fallback'))return;if(this.$VideoSpinner3||this.$VideoSpinner1.isState('ready')||this.$VideoSpinner1.isState('loading'))c('CSS').show(this.$VideoSpinner2);};i.prototype.$VideoSpinner13=function(){'use strict';this.$VideoSpinner1.clickVideo();};f.exports=i;}),null);
__d('EmbeddedVideoPauseOverlay',['cx','fbt','Arbiter','CSS','DOM','DOMDimensions','EventListener','VideoPlayerExperiments','throttle'],(function a(b,c,d,e,f,g,h,i){var j="_3bw";function k(l,m,n,o,p,q,r,s,t){'use strict';this.$EmbeddedVideoPauseOverlay1=m;this.$EmbeddedVideoPauseOverlay2=l;this.$EmbeddedVideoPauseOverlay3=n;this.$EmbeddedVideoPauseOverlay4=o;this.$EmbeddedVideoPauseOverlay5=p;this.$EmbeddedVideoPauseOverlay6=q;this.$EmbeddedVideoPauseOverlay7=r;this.$EmbeddedVideoPauseOverlay8=s;this.$EmbeddedVideoPauseOverlay9=0;if(t){this.$EmbeddedVideoPauseOverlay10=t.showOnlyOnFullscreen;}else this.$EmbeddedVideoPauseOverlay10=false;this.$EmbeddedVideoPauseOverlay11=i._("Like");this.$EmbeddedVideoPauseOverlay12=i._("Unlike");this.$EmbeddedVideoPauseOverlay13=i._("Share");this.$EmbeddedVideoPauseOverlay14();this.$EmbeddedVideoPauseOverlay2.addListener('beginPlayback',this.$EmbeddedVideoPauseOverlay15.bind(this));if(c('VideoPlayerExperiments').embeddedPlayerInlineChaining){this.$EmbeddedVideoPauseOverlay2.addListener('pausePlayback',this.$EmbeddedVideoPauseOverlay16.bind(this));this.$EmbeddedVideoPauseOverlay2.addListener('finishPlayback',this.$EmbeddedVideoPauseOverlay17.bind(this));}else{this.$EmbeddedVideoPauseOverlay2.addListener('pausePlayback',this.$EmbeddedVideoPauseOverlay18.bind(this));this.$EmbeddedVideoPauseOverlay2.addListener('finishPlayback',this.$EmbeddedVideoPauseOverlay18.bind(this));}this.$EmbeddedVideoPauseOverlay2.addListener('toggleFullscreen',this.$EmbeddedVideoPauseOverlay19.bind(this));c('EventListener').listen(this.$EmbeddedVideoPauseOverlay2.getRootNode(),'mousemove',c('throttle')(this.$EmbeddedVideoPauseOverlay20.bind(this),200));c('EventListener').listen(this.$EmbeddedVideoPauseOverlay2.getRootNode(),'mouseenter',function(){this.$EmbeddedVideoPauseOverlay21=true;}.bind(this));c('EventListener').listen(this.$EmbeddedVideoPauseOverlay2.getRootNode(),'mouseleave',function(){if(this.$EmbeddedVideoPauseOverlay2.isState('playing')){this.$EmbeddedVideoPauseOverlay21=false;this.$EmbeddedVideoPauseOverlay22();}}.bind(this));c('Arbiter').subscribe('embeddedUfiToggle',function(){this.$EmbeddedVideoPauseOverlay23();this.$EmbeddedVideoPauseOverlay24();}.bind(this));c('EventListener').listen(window,'resize',c('throttle')(function(){this.$EmbeddedVideoPauseOverlay24();}.bind(this),100));}k.prototype.$EmbeddedVideoPauseOverlay15=function(){'use strict';this.$EmbeddedVideoPauseOverlay23();this.$EmbeddedVideoPauseOverlay24();this.$EmbeddedVideoPauseOverlay20();};k.prototype.$EmbeddedVideoPauseOverlay23=function(){'use strict';var l;if(this.$EmbeddedVideoPauseOverlay2.isFullscreen()){l=64;}else l=32;this.$EmbeddedVideoPauseOverlay14();this.$EmbeddedVideoPauseOverlay9=c('DOMDimensions').getElementDimensions(this.$EmbeddedVideoPauseOverlay3).width+c('DOMDimensions').getElementDimensions(this.$EmbeddedVideoPauseOverlay4).width+l;};k.prototype.$EmbeddedVideoPauseOverlay24=function(){'use strict';var l=c('DOMDimensions').getElementDimensions(this.$EmbeddedVideoPauseOverlay2.getRootNode()).width,m=l<this.$EmbeddedVideoPauseOverlay9;if(m){this.$EmbeddedVideoPauseOverlay25();}else this.$EmbeddedVideoPauseOverlay14();};k.prototype.$EmbeddedVideoPauseOverlay14=function(){'use strict';if(this.$EmbeddedVideoPauseOverlay6)c('DOM').setContent(this.$EmbeddedVideoPauseOverlay6,this.$EmbeddedVideoPauseOverlay13);if(this.$EmbeddedVideoPauseOverlay7)c('DOM').setContent(this.$EmbeddedVideoPauseOverlay7,this.$EmbeddedVideoPauseOverlay11);if(this.$EmbeddedVideoPauseOverlay8)c('DOM').setContent(this.$EmbeddedVideoPauseOverlay8,this.$EmbeddedVideoPauseOverlay12);if(this.$EmbeddedVideoPauseOverlay5)this.$EmbeddedVideoPauseOverlay5.showText();};k.prototype.$EmbeddedVideoPauseOverlay25=function(){'use strict';if(this.$EmbeddedVideoPauseOverlay6)c('DOM').setContent(this.$EmbeddedVideoPauseOverlay6,null);if(this.$EmbeddedVideoPauseOverlay7)c('DOM').setContent(this.$EmbeddedVideoPauseOverlay7,null);if(this.$EmbeddedVideoPauseOverlay8)c('DOM').setContent(this.$EmbeddedVideoPauseOverlay8,null);if(this.$EmbeddedVideoPauseOverlay5)this.$EmbeddedVideoPauseOverlay5.hideText();};k.prototype.$EmbeddedVideoPauseOverlay26=function(){'use strict';if(this.$EmbeddedVideoPauseOverlay10&&!this.$EmbeddedVideoPauseOverlay2.isFullscreen())return false;return this.$EmbeddedVideoPauseOverlay2.isState('playing')&&this.$EmbeddedVideoPauseOverlay21||this.$EmbeddedVideoPauseOverlay2.isState('paused')||!c('VideoPlayerExperiments').embeddedPlayerInlineChaining&&this.$EmbeddedVideoPauseOverlay2.isState('finished');};k.prototype.$EmbeddedVideoPauseOverlay20=function(){'use strict';if(this.$EmbeddedVideoPauseOverlay26()){this.$EmbeddedVideoPauseOverlay27();clearTimeout(this.$EmbeddedVideoPauseOverlay28);this.$EmbeddedVideoPauseOverlay28=setTimeout(function(){if(this.$EmbeddedVideoPauseOverlay2.isState('playing'))this.$EmbeddedVideoPauseOverlay22();}.bind(this),3000);}};k.prototype.$EmbeddedVideoPauseOverlay19=function(){'use strict';if(this.$EmbeddedVideoPauseOverlay26()){this.$EmbeddedVideoPauseOverlay27();}else this.$EmbeddedVideoPauseOverlay22();};k.prototype.$EmbeddedVideoPauseOverlay18=function(){'use strict';if(this.$EmbeddedVideoPauseOverlay26())this.$EmbeddedVideoPauseOverlay27();};k.prototype.$EmbeddedVideoPauseOverlay16=function(){'use strict';if(this.$EmbeddedVideoPauseOverlay26())this.$EmbeddedVideoPauseOverlay27();};k.prototype.$EmbeddedVideoPauseOverlay17=function(){'use strict';this.$EmbeddedVideoPauseOverlay22();};k.prototype.$EmbeddedVideoPauseOverlay27=function(){'use strict';c('CSS').removeClass(this.$EmbeddedVideoPauseOverlay1,j);};k.prototype.$EmbeddedVideoPauseOverlay22=function(){'use strict';c('CSS').addClass(this.$EmbeddedVideoPauseOverlay1,j);};f.exports=k;}),null);
__d('VideoWatchAndScrollOverlay',['csx','cx','CSS','Bootloader','DOM','EmitterSubscription','EventListener','Map','React','ReactDOM','EmbeddedVideoScrubber.react','EmbeddedVideoPlaybackTimer.react','TahoeVariables','SubscriptionsHandler','UFICentralUpdates','UFIFeedbackTargets','UFIReactionTypes','UFIUserActions','VideoPlayerExperiments','VideoPlayerLoggerEvent','VideoPlayerLoggerSource','VideoPlayerReason','destroyOnUnload','throttle','requestAnimationFrame','emptyFunction','getActiveElement','setImmediate'],(function a(b,c,d,e,f,g,h,i){var j=c('VideoPlayerExperiments').persistentWNSEnabled;function k(l,m,n,o){'use strict';this.$VideoWatchAndScrollOverlay17=m;this.$VideoWatchAndScrollOverlay25=l;this.$VideoWatchAndScrollOverlay21=new (c('SubscriptionsHandler'))();this.$VideoWatchAndScrollOverlay2=o;this.$VideoWatchAndScrollOverlay10=n.likeButton;this.$VideoWatchAndScrollOverlay22=n.unlikeButton;this.$VideoWatchAndScrollOverlay7=n.ftEntID;this.$VideoWatchAndScrollOverlay5=n.feedbackSource;this.$VideoWatchAndScrollOverlay9=n.isLiveStream;this.$VideoWatchAndScrollOverlay1=0;this.$VideoWatchAndScrollOverlay13=0;this.$VideoWatchAndScrollOverlay12=0;if(this.$VideoWatchAndScrollOverlay7){this.$VideoWatchAndScrollOverlay28();this.$VideoWatchAndScrollOverlay21.addSubscriptions(c('UFICentralUpdates').subscribe('feedback-updated',function(u,v){if(this.$VideoWatchAndScrollOverlay7 in v.updates)this.$VideoWatchAndScrollOverlay28();}.bind(this)));c('EventListener').listen(this.$VideoWatchAndScrollOverlay10,'click',this.$VideoWatchAndScrollOverlay29.bind(this));c('EventListener').listen(this.$VideoWatchAndScrollOverlay22,'click',this.$VideoWatchAndScrollOverlay29.bind(this));}this.$VideoWatchAndScrollOverlay15=c('DOM').find(this.$VideoWatchAndScrollOverlay17,"._n2-");this.$VideoWatchAndScrollOverlay27=c('DOM').find(this.$VideoWatchAndScrollOverlay17,"._4per");this.$VideoWatchAndScrollOverlay3=c('DOM').scry(this.$VideoWatchAndScrollOverlay17,"._35vp")[0];this.$VideoWatchAndScrollOverlay18=c('DOM').find(this.$VideoWatchAndScrollOverlay17,"._11jc");this.$VideoWatchAndScrollOverlay14=c('DOM').find(this.$VideoWatchAndScrollOverlay17,"._5sv5");this.$VideoWatchAndScrollOverlay4=c('DOM').find(this.$VideoWatchAndScrollOverlay17,"._n2_");this.$VideoWatchAndScrollOverlay25.addListener('stateChange',this.$VideoWatchAndScrollOverlay30.bind(this));this.$VideoWatchAndScrollOverlay25.addListener('beginPlayback',this.$VideoWatchAndScrollOverlay31.bind(this));this.$VideoWatchAndScrollOverlay25.addListener('pausePlayback',this.$VideoWatchAndScrollOverlay32.bind(this));this.$VideoWatchAndScrollOverlay25.addListener('finishPlayback',this.$VideoWatchAndScrollOverlay33.bind(this));this.$VideoWatchAndScrollOverlay25.addListener('unmuteVideo',this.$VideoWatchAndScrollOverlay34.bind(this));this.$VideoWatchAndScrollOverlay25.addListener('muteVideo',this.$VideoWatchAndScrollOverlay35.bind(this));this.$VideoWatchAndScrollOverlay25.addListener('adBreakIndicatorShowing',this.$VideoWatchAndScrollOverlay36.bind(this));this.$VideoWatchAndScrollOverlay25.addListener('exitWatchAndScroll',this.$VideoWatchAndScrollOverlay34.bind(this));c('EventListener').listen(this.$VideoWatchAndScrollOverlay15,'click',this.$VideoWatchAndScrollOverlay37.bind(this));c('EventListener').listen(this.$VideoWatchAndScrollOverlay27,'click',this.$VideoWatchAndScrollOverlay38.bind(this));if(this.$VideoWatchAndScrollOverlay3)c('EventListener').listen(this.$VideoWatchAndScrollOverlay3,'click',this.$VideoWatchAndScrollOverlay39.bind(this));c('EventListener').listen(this.$VideoWatchAndScrollOverlay4,'click',this.$VideoWatchAndScrollOverlay40.bind(this));var p=c('DOM').scry(this.$VideoWatchAndScrollOverlay17,"._3xxo")[0];if(p)c('EventListener').listen(p,'click',this.$VideoWatchAndScrollOverlay41.bind(this));c('EventListener').listen(this.$VideoWatchAndScrollOverlay25.getRootNode(),'mousemove',c('throttle')(this.$VideoWatchAndScrollOverlay42.bind(this),200));c('EventListener').listen(this.$VideoWatchAndScrollOverlay25.getRootNode(),'mouseenter',function(){this.$VideoWatchAndScrollOverlay11=true;}.bind(this));var q=false;if(n.popoverMenu){var r=n.popoverMenu.getInitialMenu();r.subscribe('itemclick',function(u,v){var w=v.item;if(w.getValue()==='close')this.$VideoWatchAndScrollOverlay40();}.bind(this));r.subscribe('show',function(){q=true;this.$VideoWatchAndScrollOverlay43();}.bind(this));r.subscribe('hide',function(){q=false;if(this.$VideoWatchAndScrollOverlay25.isState('playing')&&!this.$VideoWatchAndScrollOverlay11)this.$VideoWatchAndScrollOverlay36();}.bind(this));}var s=["_5190","_5199"];c('EventListener').listen(this.$VideoWatchAndScrollOverlay25.getRootNode(),'mouseleave',function(u){var v=false;if(u.toElement)s.forEach(function(w){if(c('CSS').hasClass(u.toElement,w))v=true;});if(v)return;if(this.$VideoWatchAndScrollOverlay25.isState('playing')){this.$VideoWatchAndScrollOverlay11=false;if(!q)this.$VideoWatchAndScrollOverlay36();}}.bind(this));this.$VideoWatchAndScrollOverlay44();if(!this.$VideoWatchAndScrollOverlay9){this.$VideoWatchAndScrollOverlay19=this.$VideoWatchAndScrollOverlay45.bind(this);this.$VideoWatchAndScrollOverlay20=this.$VideoWatchAndScrollOverlay46.bind(this);}function t(u,v,w){c('setImmediate')(function(){var x=c('getActiveElement')(),y=c('DOM').contains(u,x);if(y){v();}else w();});}c('EventListener').listen(this.$VideoWatchAndScrollOverlay17,'focusin',function(){return t(this.$VideoWatchAndScrollOverlay17,function(){this.$VideoWatchAndScrollOverlay47();this.$VideoWatchAndScrollOverlay43();}.bind(this),c('emptyFunction'));}.bind(this));c('EventListener').listen(this.$VideoWatchAndScrollOverlay17,'focusout',function(){return t(this.$VideoWatchAndScrollOverlay17,c('emptyFunction'),function(){this.$VideoWatchAndScrollOverlay48();}.bind(this));}.bind(this));if(!j)c('destroyOnUnload')(function(){if(this.$VideoWatchAndScrollOverlay21){this.$VideoWatchAndScrollOverlay21.release();this.$VideoWatchAndScrollOverlay21=null;}c('ReactDOM').unmountComponentAtNode(this.$VideoWatchAndScrollOverlay18);c('ReactDOM').unmountComponentAtNode(this.$VideoWatchAndScrollOverlay14);}.bind(this));}k.prototype.$VideoWatchAndScrollOverlay44=function(){'use strict';var l=!(this.$VideoWatchAndScrollOverlay25.isState('loading')||this.$VideoWatchAndScrollOverlay25.isState('fallback'));if(!l)return;this.$VideoWatchAndScrollOverlay12=this.$VideoWatchAndScrollOverlay25.getPlaybackDuration();this.$VideoWatchAndScrollOverlay26=this.$VideoWatchAndScrollOverlay25.getVolume();};k.prototype.$VideoWatchAndScrollOverlay49=function(){'use strict';if(this.$VideoWatchAndScrollOverlay16)return;this.$VideoWatchAndScrollOverlay16=c('requestAnimationFrame')(function(){this.$VideoWatchAndScrollOverlay16=null;this.$VideoWatchAndScrollOverlay50();}.bind(this));};k.prototype.$VideoWatchAndScrollOverlay50=function(){'use strict';if(!this.$VideoWatchAndScrollOverlay12)this.$VideoWatchAndScrollOverlay44();if(this.$VideoWatchAndScrollOverlay9){c('ReactDOM').unmountComponentAtNode(this.$VideoWatchAndScrollOverlay18);c('ReactDOM').unmountComponentAtNode(this.$VideoWatchAndScrollOverlay14);return;}c('ReactDOM').render(c('React').createElement(c('EmbeddedVideoScrubber.react'),{className:"_1681",bufferedPosition:this.$VideoWatchAndScrollOverlay1,hasScrubberPreview:false,isFullscreen:false,onScrubBegin:this.$VideoWatchAndScrollOverlay19,onPointOfInterestSelect:function m(){},onScrubEnd:this.$VideoWatchAndScrollOverlay20,playbackDuration:this.$VideoWatchAndScrollOverlay12,playbackPosition:this.$VideoWatchAndScrollOverlay13,pointsOfInterest:[],previewThumbnailInformation:{},scrubberPreviewSprites:new (c('Map'))(),tabIndex:'-1'}),this.$VideoWatchAndScrollOverlay18);var l=this.$VideoWatchAndScrollOverlay13-this.$VideoWatchAndScrollOverlay12;c('ReactDOM').render(c('React').createElement(c('EmbeddedVideoPlaybackTimer.react'),{className:"_25e2 _1682",playbackPosTimestamp:this.$VideoWatchAndScrollOverlay13,remainingTimestamp:l}),this.$VideoWatchAndScrollOverlay14);};k.prototype.$VideoWatchAndScrollOverlay45=function(){'use strict';this.$VideoWatchAndScrollOverlay25.pause(c('VideoPlayerReason').SEEK);};k.prototype.$VideoWatchAndScrollOverlay46=function(l){'use strict';this.$VideoWatchAndScrollOverlay25.seek(l);this.$VideoWatchAndScrollOverlay13=l;this.$VideoWatchAndScrollOverlay25.play(c('VideoPlayerReason').SEEK);};k.prototype.$VideoWatchAndScrollOverlay28=function(){'use strict';if(!this.$VideoWatchAndScrollOverlay10||!this.$VideoWatchAndScrollOverlay22)return;this.$VideoWatchAndScrollOverlay6=c('UFIFeedbackTargets').getFeedbackTarget(this.$VideoWatchAndScrollOverlay7,function(l){c('CSS').hide(this.$VideoWatchAndScrollOverlay10);c('CSS').hide(this.$VideoWatchAndScrollOverlay22);if(l.viewercanlike)if(l.hasviewerliked){c('CSS').show(this.$VideoWatchAndScrollOverlay22);}else c('CSS').show(this.$VideoWatchAndScrollOverlay10);}.bind(this));};k.prototype.$VideoWatchAndScrollOverlay29=function(event){'use strict';this.$VideoWatchAndScrollOverlay6=c('UFIFeedbackTargets').getFeedbackTarget(this.$VideoWatchAndScrollOverlay7,function(l){c('UFIUserActions').changeReaction(this.$VideoWatchAndScrollOverlay7,l.hasviewerliked?c('UFIReactionTypes').NONE:c('UFIReactionTypes').LIKE,{source:this.$VideoWatchAndScrollOverlay5,target:event.target},event.target);}.bind(this));if(c('CSS').shown(this.$VideoWatchAndScrollOverlay10)){this.$VideoWatchAndScrollOverlay10.focus();}else this.$VideoWatchAndScrollOverlay22.focus();};k.prototype.$VideoWatchAndScrollOverlay30=function(){'use strict';if(this.$VideoWatchAndScrollOverlay25.isState('ready')||this.$VideoWatchAndScrollOverlay25.isState('playing')||this.$VideoWatchAndScrollOverlay25.isState('paused'))if(this.$VideoWatchAndScrollOverlay25.isMuted()||this.$VideoWatchAndScrollOverlay25.getVolume()===0){this.$VideoWatchAndScrollOverlay35();}else this.$VideoWatchAndScrollOverlay34();if(this.$VideoWatchAndScrollOverlay25.isState('fallback')){c('CSS').removeClass(this.$VideoWatchAndScrollOverlay17,"_1he7");c('CSS').addClass(this.$VideoWatchAndScrollOverlay17,"_x71");}var l=this.$VideoWatchAndScrollOverlay25.getSource();if(l===c('VideoPlayerLoggerSource').WATCH_SCROLL){if(!this.$VideoWatchAndScrollOverlay23)this.$VideoWatchAndScrollOverlay23=this.$VideoWatchAndScrollOverlay25.addListener('updateStatus',function(m){this.$VideoWatchAndScrollOverlay13=m.position;this.$VideoWatchAndScrollOverlay49();}.bind(this));if(!this.$VideoWatchAndScrollOverlay24)this.$VideoWatchAndScrollOverlay24=this.$VideoWatchAndScrollOverlay25.addListener('updateBuffer',function(m){this.$VideoWatchAndScrollOverlay1=m.duration+m.offset;this.$VideoWatchAndScrollOverlay49();}.bind(this));}else{if(this.$VideoWatchAndScrollOverlay23){this.$VideoWatchAndScrollOverlay23.remove();this.$VideoWatchAndScrollOverlay23=null;}if(this.$VideoWatchAndScrollOverlay24){this.$VideoWatchAndScrollOverlay24.remove();this.$VideoWatchAndScrollOverlay24=null;}}};k.prototype.$VideoWatchAndScrollOverlay31=function(){'use strict';this.$VideoWatchAndScrollOverlay51();c('CSS').addClass(this.$VideoWatchAndScrollOverlay15,"_n2w");this.$VideoWatchAndScrollOverlay42();};k.prototype.$VideoWatchAndScrollOverlay33=function(){'use strict';this.$VideoWatchAndScrollOverlay51();c('CSS').addClass(this.$VideoWatchAndScrollOverlay15,"_n2x");this.$VideoWatchAndScrollOverlay36();};k.prototype.$VideoWatchAndScrollOverlay32=function(){'use strict';this.$VideoWatchAndScrollOverlay51();c('CSS').addClass(this.$VideoWatchAndScrollOverlay15,"_n2y");this.$VideoWatchAndScrollOverlay42();};k.prototype.$VideoWatchAndScrollOverlay51=function(){'use strict';c('CSS').removeClass(this.$VideoWatchAndScrollOverlay15,"_n2w");c('CSS').removeClass(this.$VideoWatchAndScrollOverlay15,"_n2y");c('CSS').removeClass(this.$VideoWatchAndScrollOverlay15,"_n2x");};k.prototype.$VideoWatchAndScrollOverlay37=function(){'use strict';if(this.$VideoWatchAndScrollOverlay25.isState('playing')){this.$VideoWatchAndScrollOverlay25.logEvent(c('VideoPlayerLoggerEvent').WATCH_AND_SCROLL_PAUSED);this.$VideoWatchAndScrollOverlay25.pause(c('VideoPlayerReason').USER);}else this.$VideoWatchAndScrollOverlay25.play(c('VideoPlayerReason').USER);};k.prototype.$VideoWatchAndScrollOverlay35=function(){'use strict';c('CSS').removeClass(this.$VideoWatchAndScrollOverlay27,"_4pep");c('CSS').addClass(this.$VideoWatchAndScrollOverlay27,"_4peq");};k.prototype.$VideoWatchAndScrollOverlay34=function(){'use strict';c('CSS').removeClass(this.$VideoWatchAndScrollOverlay27,"_4peq");c('CSS').addClass(this.$VideoWatchAndScrollOverlay27,"_4pep");};k.prototype.$VideoWatchAndScrollOverlay41=function(event){'use strict';this.$VideoWatchAndScrollOverlay25.emit('WatchAndScroll/collapse');event.stopPropagation();};k.prototype.$VideoWatchAndScrollOverlay40=function(){'use strict';var l=this.$VideoWatchAndScrollOverlay25.getOption('CommercialBreakVideoAdOverlay','videoController'),m=l||this.$VideoWatchAndScrollOverlay25;m.logEvent(c('VideoPlayerLoggerEvent').WATCH_AND_SCROLL_EXITED);m.emit('WatchAndScroll/close');};k.prototype.$VideoWatchAndScrollOverlay38=function(){'use strict';if(this.$VideoWatchAndScrollOverlay25.isMuted()||this.$VideoWatchAndScrollOverlay25.getVolume===0){this.$VideoWatchAndScrollOverlay25.unmute();}else this.$VideoWatchAndScrollOverlay25.mute();};k.prototype.$VideoWatchAndScrollOverlay39=function(){'use strict';this.$VideoWatchAndScrollOverlay25.logEvent(c('VideoPlayerLoggerEvent').WATCH_AND_SCROLL_CHANNEL_ENTERED);if(c('VideoPlayerExperiments').rhcWNSExpandToTahoe){c('Bootloader').loadModules(["VideoWatchAndScrollController","TahoeController","URI"],function(l,m,n){var o=new n(this.$VideoWatchAndScrollOverlay25.getVideoURL()),p=babelHelpers['extends']({},n.getRequestURI().getQueryData(),{ref:'tahoe'});l.onEnterTahoe();if(c('TahoeVariables').useChannelChaining){m.openFromVideoPlayer(this.$VideoWatchAndScrollOverlay25,o.setQueryData(p),this.$VideoWatchAndScrollOverlay25.getVideoChannelID(),this.$VideoWatchAndScrollOverlay2);}else m.openFromVideoPlayer(this.$VideoWatchAndScrollOverlay25,o.setQueryData(p));}.bind(this),'VideoWatchAndScrollOverlay');}else c('Bootloader').loadModules(["VideoWatchAndScrollController","VideoChannelController"],function(l,m){l.onEnterChannel();m.openFromVideoPlayer(this.$VideoWatchAndScrollOverlay25,this.$VideoWatchAndScrollOverlay25.getVideoChannelID(),this.$VideoWatchAndScrollOverlay2,l.getStoryFetcherData());}.bind(this),'VideoWatchAndScrollOverlay');};k.prototype.$VideoWatchAndScrollOverlay42=function(){'use strict';if(this.$VideoWatchAndScrollOverlay11&&this.$VideoWatchAndScrollOverlay25.getState()!=='fallback'){this.$VideoWatchAndScrollOverlay43();this.$VideoWatchAndScrollOverlay48();}};k.prototype.$VideoWatchAndScrollOverlay48=function(){'use strict';this.$VideoWatchAndScrollOverlay47();this.$VideoWatchAndScrollOverlay8=setTimeout(function(){if(this.$VideoWatchAndScrollOverlay25.isState('playing'))this.$VideoWatchAndScrollOverlay36();}.bind(this),3000);};k.prototype.$VideoWatchAndScrollOverlay47=function(){'use strict';clearTimeout(this.$VideoWatchAndScrollOverlay8);};k.prototype.$VideoWatchAndScrollOverlay43=function(){'use strict';if(this.$VideoWatchAndScrollOverlay25.isState('finished')||this.$VideoWatchAndScrollOverlay25.getOption('WatchAndScroll','hideOverlay'))return;c('CSS').addClass(this.$VideoWatchAndScrollOverlay17,"_1he7");this.$VideoWatchAndScrollOverlay25.emit('WatchAndScroll/overlayShown');};k.prototype.$VideoWatchAndScrollOverlay36=function(){'use strict';c('CSS').removeClass(this.$VideoWatchAndScrollOverlay17,"_1he7");this.$VideoWatchAndScrollOverlay25.emit('WatchAndScroll/overlayHidden');};f.exports=k;}),null);